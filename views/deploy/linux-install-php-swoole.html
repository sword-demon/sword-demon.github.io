<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://sword-demon.github.io/views/deploy/linux-install-php-swoole.html"><meta property="og:site_name" content="æ— è§£çš„æ¸¸æˆ"><meta property="og:title" content="Linuxç¼–è¯‘å®‰è£…PHP7.4å’ŒSwooleæ‰©å±•"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-14T13:07:44.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="PHP"><meta property="article:tag" content="Swoole"><meta property="article:published_time" content="2022-08-14T21:04:10.000Z"><meta property="article:modified_time" content="2022-08-14T13:07:44.000Z"><title>Linuxç¼–è¯‘å®‰è£…PHP7.4å’ŒSwooleæ‰©å±• | æ— è§£çš„æ¸¸æˆ</title><meta name="description" content="wxvirus blog and note">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.ee2227d4.css">
    <link rel="modulepreload" href="/assets/app.50152c4e.js"><link rel="modulepreload" href="/assets/linux-install-php-swoole.html.733813ee.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/linux-install-php-swoole.html.5174293d.js"><link rel="prefetch" href="/assets/index.html.76d8b2ed.js"><link rel="prefetch" href="/assets/home.html.c9f6a294.js"><link rel="prefetch" href="/assets/slide.html.d3fcb891.js"><link rel="prefetch" href="/assets/index.html.b78d3b9f.js"><link rel="prefetch" href="/assets/index.html.412fc73b.js"><link rel="prefetch" href="/assets/disable.html.94d71ef5.js"><link rel="prefetch" href="/assets/encrypt.html.0bb370d9.js"><link rel="prefetch" href="/assets/markdown.html.121dfe69.js"><link rel="prefetch" href="/assets/page.html.3960d5ea.js"><link rel="prefetch" href="/assets/index.html.d3fa6854.js"><link rel="prefetch" href="/assets/go-questions.html.9958a3ae.js"><link rel="prefetch" href="/assets/go-slice-qa.html.3a9246e9.js"><link rel="prefetch" href="/assets/index.html.821c9921.js"><link rel="prefetch" href="/assets/index.html.6bcfb0a9.js"><link rel="prefetch" href="/assets/curl-pdf.html.f5d5bb6e.js"><link rel="prefetch" href="/assets/distributed-dtm.html.4ac427b3.js"><link rel="prefetch" href="/assets/multi-goroutine-result.html.2185c4be.js"><link rel="prefetch" href="/assets/mysql-dtm.html.d74191ff.js"><link rel="prefetch" href="/assets/mysql-index-b-tree.html.d7437626.js"><link rel="prefetch" href="/assets/mysql-master-slave.html.29c0323e.js"><link rel="prefetch" href="/assets/mysql-transiation.html.08e67b08.js"><link rel="prefetch" href="/assets/php-slice-upload.html.b96f2a1f.js"><link rel="prefetch" href="/assets/redis-cache-struct.html.90b1c2ba.js"><link rel="prefetch" href="/assets/sql-auth.html.83b1ff38.js"><link rel="prefetch" href="/assets/sql-lifecycle.html.f830ff1f.js"><link rel="prefetch" href="/assets/strategy.html.6ff15ddc.js"><link rel="prefetch" href="/assets/unique-hash-algom.html.550e0498.js"><link rel="prefetch" href="/assets/vscode-generate-code.html.c13a92f6.js"><link rel="prefetch" href="/assets/index.html.acb2c77b.js"><link rel="prefetch" href="/assets/index.html.8d6e6921.js"><link rel="prefetch" href="/assets/c-helloworld.html.dffedc7f.js"><link rel="prefetch" href="/assets/c-ld.html.6e5836d3.js"><link rel="prefetch" href="/assets/elf-program-load-exec.html.36e7b115.js"><link rel="prefetch" href="/assets/file-include.html.bc936313.js"><link rel="prefetch" href="/assets/makefile.html.e0890915.js"><link rel="prefetch" href="/assets/variable-memory.html.74962f6a.js"><link rel="prefetch" href="/assets/index.html.304c3717.js"><link rel="prefetch" href="/assets/elf.html.508615aa.js"><link rel="prefetch" href="/assets/swoole-process.html.977ba9e4.js"><link rel="prefetch" href="/assets/index.html.02ea4051.js"><link rel="prefetch" href="/assets/algo-base.html.1cb29590.js"><link rel="prefetch" href="/assets/algo-insert-sort.html.9d506001.js"><link rel="prefetch" href="/assets/algo-palindrome.html.3e258e72.js"><link rel="prefetch" href="/assets/algo-recursive.html.2afa3e7b.js"><link rel="prefetch" href="/assets/algo-search.html.ab6b6016.js"><link rel="prefetch" href="/assets/algo-sort.html.09ce5978.js"><link rel="prefetch" href="/assets/iterator-designer.html.b3684780.js"><link rel="prefetch" href="/assets/leetcode-plusone.html.e6db35d2.js"><link rel="prefetch" href="/assets/line-table.html.78d86b31.js"><link rel="prefetch" href="/assets/index.html.dff2499c.js"><link rel="prefetch" href="/assets/docker-install-mysql.html.a84c7809.js"><link rel="prefetch" href="/assets/docker-install-redis.html.55827732.js"><link rel="prefetch" href="/assets/linux-install-docker.html.0fe30510.js"><link rel="prefetch" href="/assets/linux-install-nginx.html.65313f00.js"><link rel="prefetch" href="/assets/linux-mysql8.html.d35b99a8.js"><link rel="prefetch" href="/assets/mac-laradock.html.9d31ac1b.js"><link rel="prefetch" href="/assets/quick-install-k8s.html.8cf347f9.js"><link rel="prefetch" href="/assets/vagrant-centos7.html.9d28ab41.js"><link rel="prefetch" href="/assets/index.html.626ddeb0.js"><link rel="prefetch" href="/assets/base.html.459e01b1.js"><link rel="prefetch" href="/assets/go-base-datatype.html.075fe238.js"><link rel="prefetch" href="/assets/go-channel.html.39d6702a.js"><link rel="prefetch" href="/assets/go-concurrent-base.html.c221b962.js"><link rel="prefetch" href="/assets/go-constant.html.f7fd6206.js"><link rel="prefetch" href="/assets/go-context.html.39660a0b.js"><link rel="prefetch" href="/assets/go-coroutine-dispath.html.fc8fe1cc.js"><link rel="prefetch" href="/assets/go-cross-compiler.html.2251f3a8.js"><link rel="prefetch" href="/assets/go-data-convert.html.c613c40e.js"><link rel="prefetch" href="/assets/go-error.html.cbe98c52.js"><link rel="prefetch" href="/assets/go-file.html.515c6403.js"><link rel="prefetch" href="/assets/go-goroutine.html.c2f8ebfe.js"><link rel="prefetch" href="/assets/go-interface.html.0ddc7fae.js"><link rel="prefetch" href="/assets/go-interview.html.2b062a4b.js"><link rel="prefetch" href="/assets/go-lock.html.422aa8bc.js"><link rel="prefetch" href="/assets/go-map.html.af9c814a.js"><link rel="prefetch" href="/assets/go-method.html.1a9db02c.js"><link rel="prefetch" href="/assets/go-module-unit.html.1bf0df05.js"><link rel="prefetch" href="/assets/go-oop.html.1d283efc.js"><link rel="prefetch" href="/assets/go-package.html.4d73d8f6.js"><link rel="prefetch" href="/assets/go-pointer.html.2b5c0e2b.js"><link rel="prefetch" href="/assets/go-select.html.e102de99.js"><link rel="prefetch" href="/assets/go-slice.html.caf243dd.js"><link rel="prefetch" href="/assets/go-string.html.533d4009.js"><link rel="prefetch" href="/assets/go-struct-interface.html.e03abeb6.js"><link rel="prefetch" href="/assets/go-struct-memory-layout.html.0134ad8b.js"><link rel="prefetch" href="/assets/go-time.html.20d3e943.js"><link rel="prefetch" href="/assets/goå¹¶å‘å®‰å…¨ä¸é”.html.431c25de.js"><link rel="prefetch" href="/assets/grpc-protobuf.html.31dbb329.js"><link rel="prefetch" href="/assets/mac-go-env.html.e1618456.js"><link rel="prefetch" href="/assets/index.html.0bee477a.js"><link rel="prefetch" href="/assets/go-dynamically.html.86cac649.js"><link rel="prefetch" href="/assets/go-elf.html.77f32ad1.js"><link rel="prefetch" href="/assets/go-map-theory.html.c105737b.js"><link rel="prefetch" href="/assets/go-statically.html.b72827f9.js"><link rel="prefetch" href="/assets/interface-type.html.6c34c487.js"><link rel="prefetch" href="/assets/map-grow.html.679d7ff6.js"><link rel="prefetch" href="/assets/sync-map.html.4bdedfaf.js"><link rel="prefetch" href="/assets/index.html.389b026f.js"><link rel="prefetch" href="/assets/go-zeroæ¨¡å‹æ“ä½œ.html.f5f014c4.js"><link rel="prefetch" href="/assets/go-zeroç¯å¢ƒæ­å»º.html.5a3616a4.js"><link rel="prefetch" href="/assets/index.html.73ae9ef0.js"><link rel="prefetch" href="/assets/mybatisplus-autofill.html.dcd8ce02.js"><link rel="prefetch" href="/assets/packaging-response.html.2cd520cc.js"><link rel="prefetch" href="/assets/index.html.90cd1d36.js"><link rel="prefetch" href="/assets/linux-single-install-redis.html.05b46067.js"><link rel="prefetch" href="/assets/index.html.77f220ff.js"><link rel="prefetch" href="/assets/cargo-base-use.html.35911b5f.js"><link rel="prefetch" href="/assets/first-rust-code.html.50d8af09.js"><link rel="prefetch" href="/assets/windows-env-rust.html.2b70805e.js"><link rel="prefetch" href="/assets/index.html.7f0fced8.js"><link rel="prefetch" href="/assets/go-tcp.html.d738ef33.js"><link rel="prefetch" href="/assets/ipv4-learn.html.e75b39c2.js"><link rel="prefetch" href="/assets/ipv4-tcp-client.html.40d2ebc3.js"><link rel="prefetch" href="/assets/ipv4-udp.html.68bb9348.js"><link rel="prefetch" href="/assets/socket-base.html.44316534.js"><link rel="prefetch" href="/assets/socket-desc.html.e3e22455.js"><link rel="prefetch" href="/assets/stream-socket-api.html.0c9b976a.js"><link rel="prefetch" href="/assets/unix-socket.html.151f45cc.js"><link rel="prefetch" href="/assets/workerman-websocket-demo.html.4bf64397.js"><link rel="prefetch" href="/assets/index.html.add31859.js"><link rel="prefetch" href="/assets/admin-dashboard.html.6769230f.js"><link rel="prefetch" href="/assets/cdn-page.html.a29ca496.js"><link rel="prefetch" href="/assets/404.html.8a57577b.js"><link rel="prefetch" href="/assets/index.html.9df8173f.js"><link rel="prefetch" href="/assets/index.html.a96b7371.js"><link rel="prefetch" href="/assets/index.html.2a1193e9.js"><link rel="prefetch" href="/assets/index.html.244980b7.js"><link rel="prefetch" href="/assets/index.html.21cb95c6.js"><link rel="prefetch" href="/assets/index.html.0bfb9588.js"><link rel="prefetch" href="/assets/index.html.89f1be8b.js"><link rel="prefetch" href="/assets/index.html.aba7e61c.js"><link rel="prefetch" href="/assets/index.html.3dc34a90.js"><link rel="prefetch" href="/assets/index.html.b3cb9915.js"><link rel="prefetch" href="/assets/index.html.2b3c2d8f.js"><link rel="prefetch" href="/assets/index.html.e358d3e1.js"><link rel="prefetch" href="/assets/index.html.e011443a.js"><link rel="prefetch" href="/assets/index.html.58c9a650.js"><link rel="prefetch" href="/assets/index.html.30ace376.js"><link rel="prefetch" href="/assets/index.html.fb97e6a8.js"><link rel="prefetch" href="/assets/index.html.ce170d6b.js"><link rel="prefetch" href="/assets/index.html.49dffe0b.js"><link rel="prefetch" href="/assets/index.html.d6b51c5a.js"><link rel="prefetch" href="/assets/index.html.3ca0d05b.js"><link rel="prefetch" href="/assets/index.html.03edaea1.js"><link rel="prefetch" href="/assets/index.html.008ea720.js"><link rel="prefetch" href="/assets/index.html.531a6e45.js"><link rel="prefetch" href="/assets/index.html.abfeb33d.js"><link rel="prefetch" href="/assets/index.html.560c1f31.js"><link rel="prefetch" href="/assets/index.html.315e6eb2.js"><link rel="prefetch" href="/assets/index.html.10c68a75.js"><link rel="prefetch" href="/assets/index.html.7a43a97b.js"><link rel="prefetch" href="/assets/index.html.c5a98fd2.js"><link rel="prefetch" href="/assets/index.html.35f850f8.js"><link rel="prefetch" href="/assets/index.html.181439df.js"><link rel="prefetch" href="/assets/index.html.5b9b3036.js"><link rel="prefetch" href="/assets/index.html.fe872985.js"><link rel="prefetch" href="/assets/index.html.86616982.js"><link rel="prefetch" href="/assets/index.html.8ce0772e.js"><link rel="prefetch" href="/assets/index.html.854dac1d.js"><link rel="prefetch" href="/assets/index.html.7444996f.js"><link rel="prefetch" href="/assets/index.html.181d7743.js"><link rel="prefetch" href="/assets/index.html.c5f87512.js"><link rel="prefetch" href="/assets/index.html.0a9f0a1d.js"><link rel="prefetch" href="/assets/index.html.dc747104.js"><link rel="prefetch" href="/assets/index.html.64513f6a.js"><link rel="prefetch" href="/assets/index.html.eb87540b.js"><link rel="prefetch" href="/assets/index.html.c18ddd32.js"><link rel="prefetch" href="/assets/index.html.0cc8f00d.js"><link rel="prefetch" href="/assets/index.html.465232cf.js"><link rel="prefetch" href="/assets/index.html.7d473921.js"><link rel="prefetch" href="/assets/index.html.ad2bb6f4.js"><link rel="prefetch" href="/assets/index.html.15744c62.js"><link rel="prefetch" href="/assets/index.html.838f4071.js"><link rel="prefetch" href="/assets/index.html.959572dd.js"><link rel="prefetch" href="/assets/index.html.b3ede268.js"><link rel="prefetch" href="/assets/index.html.4c7b0b76.js"><link rel="prefetch" href="/assets/index.html.8c38a76b.js"><link rel="prefetch" href="/assets/index.html.209a9fea.js"><link rel="prefetch" href="/assets/index.html.0c664c9a.js"><link rel="prefetch" href="/assets/index.html.ba73203b.js"><link rel="prefetch" href="/assets/index.html.74bdebe8.js"><link rel="prefetch" href="/assets/index.html.72b3bc22.js"><link rel="prefetch" href="/assets/index.html.1c7dbc3e.js"><link rel="prefetch" href="/assets/index.html.0952b744.js"><link rel="prefetch" href="/assets/index.html.a7e6e799.js"><link rel="prefetch" href="/assets/index.html.bc2e39d5.js"><link rel="prefetch" href="/assets/index.html.f64f22cb.js"><link rel="prefetch" href="/assets/index.html.1c1b576a.js"><link rel="prefetch" href="/assets/index.html.2bb8bb15.js"><link rel="prefetch" href="/assets/index.html.f55e31f6.js"><link rel="prefetch" href="/assets/index.html.486c4d96.js"><link rel="prefetch" href="/assets/index.html.d262be9d.js"><link rel="prefetch" href="/assets/index.html.795740eb.js"><link rel="prefetch" href="/assets/index.html.53b6b51a.js"><link rel="prefetch" href="/assets/index.html.17de9f11.js"><link rel="prefetch" href="/assets/index.html.147201ef.js"><link rel="prefetch" href="/assets/index.html.aa26db38.js"><link rel="prefetch" href="/assets/index.html.6307652f.js"><link rel="prefetch" href="/assets/index.html.b760a1d5.js"><link rel="prefetch" href="/assets/index.html.67e9e8e4.js"><link rel="prefetch" href="/assets/index.html.23e467ce.js"><link rel="prefetch" href="/assets/index.html.aba8725e.js"><link rel="prefetch" href="/assets/index.html.2db0fc86.js"><link rel="prefetch" href="/assets/index.html.b7430060.js"><link rel="prefetch" href="/assets/index.html.9fa1097b.js"><link rel="prefetch" href="/assets/index.html.7423b3d8.js"><link rel="prefetch" href="/assets/index.html.af5bfb4d.js"><link rel="prefetch" href="/assets/index.html.d52801c7.js"><link rel="prefetch" href="/assets/index.html.7dc6ebb7.js"><link rel="prefetch" href="/assets/index.html.c009b09b.js"><link rel="prefetch" href="/assets/index.html.4d96b4ed.js"><link rel="prefetch" href="/assets/index.html.a72f4695.js"><link rel="prefetch" href="/assets/index.html.353b4f3b.js"><link rel="prefetch" href="/assets/index.html.3a158c7a.js"><link rel="prefetch" href="/assets/index.html.8448587a.js"><link rel="prefetch" href="/assets/index.html.aa04be82.js"><link rel="prefetch" href="/assets/index.html.9279ae43.js"><link rel="prefetch" href="/assets/index.html.83023e93.js"><link rel="prefetch" href="/assets/index.html.a3796cd0.js"><link rel="prefetch" href="/assets/index.html.ce1f4e78.js"><link rel="prefetch" href="/assets/index.html.b5ef375a.js"><link rel="prefetch" href="/assets/index.html.4ff22e7b.js"><link rel="prefetch" href="/assets/index.html.e4d81739.js"><link rel="prefetch" href="/assets/index.html.92e42c85.js"><link rel="prefetch" href="/assets/index.html.cd3a3023.js"><link rel="prefetch" href="/assets/index.html.458343e2.js"><link rel="prefetch" href="/assets/index.html.bb82a781.js"><link rel="prefetch" href="/assets/index.html.8547e600.js"><link rel="prefetch" href="/assets/index.html.906efeba.js"><link rel="prefetch" href="/assets/index.html.6ef20bf4.js"><link rel="prefetch" href="/assets/home.html.9271852b.js"><link rel="prefetch" href="/assets/slide.html.1db48004.js"><link rel="prefetch" href="/assets/index.html.047a3f04.js"><link rel="prefetch" href="/assets/index.html.18f42222.js"><link rel="prefetch" href="/assets/disable.html.50940d81.js"><link rel="prefetch" href="/assets/encrypt.html.79778113.js"><link rel="prefetch" href="/assets/markdown.html.467d8202.js"><link rel="prefetch" href="/assets/page.html.506ad5ee.js"><link rel="prefetch" href="/assets/index.html.66633958.js"><link rel="prefetch" href="/assets/go-questions.html.7aa006f0.js"><link rel="prefetch" href="/assets/go-slice-qa.html.310a6a39.js"><link rel="prefetch" href="/assets/index.html.0b76a0b6.js"><link rel="prefetch" href="/assets/index.html.2a239bb0.js"><link rel="prefetch" href="/assets/curl-pdf.html.b87770bb.js"><link rel="prefetch" href="/assets/distributed-dtm.html.c88b79a4.js"><link rel="prefetch" href="/assets/multi-goroutine-result.html.c625530a.js"><link rel="prefetch" href="/assets/mysql-dtm.html.3434a1da.js"><link rel="prefetch" href="/assets/mysql-index-b-tree.html.a90a4b12.js"><link rel="prefetch" href="/assets/mysql-master-slave.html.40b1b063.js"><link rel="prefetch" href="/assets/mysql-transiation.html.cf8e124b.js"><link rel="prefetch" href="/assets/php-slice-upload.html.42c6d28c.js"><link rel="prefetch" href="/assets/redis-cache-struct.html.2de14dae.js"><link rel="prefetch" href="/assets/sql-auth.html.b3799a70.js"><link rel="prefetch" href="/assets/sql-lifecycle.html.743f843b.js"><link rel="prefetch" href="/assets/strategy.html.166f407c.js"><link rel="prefetch" href="/assets/unique-hash-algom.html.399f91d5.js"><link rel="prefetch" href="/assets/vscode-generate-code.html.2864bde5.js"><link rel="prefetch" href="/assets/index.html.a95a771f.js"><link rel="prefetch" href="/assets/index.html.745f7a65.js"><link rel="prefetch" href="/assets/c-helloworld.html.94223951.js"><link rel="prefetch" href="/assets/c-ld.html.0580ae6e.js"><link rel="prefetch" href="/assets/elf-program-load-exec.html.0d4ba520.js"><link rel="prefetch" href="/assets/file-include.html.2c615e5b.js"><link rel="prefetch" href="/assets/makefile.html.968b4686.js"><link rel="prefetch" href="/assets/variable-memory.html.9e456d0c.js"><link rel="prefetch" href="/assets/index.html.acfcfff5.js"><link rel="prefetch" href="/assets/elf.html.29711306.js"><link rel="prefetch" href="/assets/swoole-process.html.e3b1a613.js"><link rel="prefetch" href="/assets/index.html.8696ad9b.js"><link rel="prefetch" href="/assets/algo-base.html.dd7e4b97.js"><link rel="prefetch" href="/assets/algo-insert-sort.html.fa276014.js"><link rel="prefetch" href="/assets/algo-palindrome.html.78aea75f.js"><link rel="prefetch" href="/assets/algo-recursive.html.51ca348a.js"><link rel="prefetch" href="/assets/algo-search.html.679504d3.js"><link rel="prefetch" href="/assets/algo-sort.html.538e8ee6.js"><link rel="prefetch" href="/assets/iterator-designer.html.7ecae858.js"><link rel="prefetch" href="/assets/leetcode-plusone.html.1007a984.js"><link rel="prefetch" href="/assets/line-table.html.4cef91c1.js"><link rel="prefetch" href="/assets/index.html.fd305225.js"><link rel="prefetch" href="/assets/docker-install-mysql.html.8d7f686a.js"><link rel="prefetch" href="/assets/docker-install-redis.html.a5e585c6.js"><link rel="prefetch" href="/assets/linux-install-docker.html.b743d665.js"><link rel="prefetch" href="/assets/linux-install-nginx.html.e1f0acfb.js"><link rel="prefetch" href="/assets/linux-mysql8.html.07e0d8f7.js"><link rel="prefetch" href="/assets/mac-laradock.html.55bcd2b5.js"><link rel="prefetch" href="/assets/quick-install-k8s.html.cc2271dd.js"><link rel="prefetch" href="/assets/vagrant-centos7.html.144ee7f4.js"><link rel="prefetch" href="/assets/index.html.74f99c58.js"><link rel="prefetch" href="/assets/base.html.d780a323.js"><link rel="prefetch" href="/assets/go-base-datatype.html.5909fc7d.js"><link rel="prefetch" href="/assets/go-channel.html.b73db8f4.js"><link rel="prefetch" href="/assets/go-concurrent-base.html.f93b10fe.js"><link rel="prefetch" href="/assets/go-constant.html.e57cd5b1.js"><link rel="prefetch" href="/assets/go-context.html.b2cc0b02.js"><link rel="prefetch" href="/assets/go-coroutine-dispath.html.a0e96844.js"><link rel="prefetch" href="/assets/go-cross-compiler.html.b497b9fe.js"><link rel="prefetch" href="/assets/go-data-convert.html.15998dc1.js"><link rel="prefetch" href="/assets/go-error.html.d69c0b63.js"><link rel="prefetch" href="/assets/go-file.html.91169251.js"><link rel="prefetch" href="/assets/go-goroutine.html.a1b28d97.js"><link rel="prefetch" href="/assets/go-interface.html.6288e931.js"><link rel="prefetch" href="/assets/go-interview.html.028fcddd.js"><link rel="prefetch" href="/assets/go-lock.html.6494b11f.js"><link rel="prefetch" href="/assets/go-map.html.e3308005.js"><link rel="prefetch" href="/assets/go-method.html.05575398.js"><link rel="prefetch" href="/assets/go-module-unit.html.3ba07ea9.js"><link rel="prefetch" href="/assets/go-oop.html.3312a79b.js"><link rel="prefetch" href="/assets/go-package.html.72e795cf.js"><link rel="prefetch" href="/assets/go-pointer.html.c8236025.js"><link rel="prefetch" href="/assets/go-select.html.f675f35c.js"><link rel="prefetch" href="/assets/go-slice.html.78d97a9d.js"><link rel="prefetch" href="/assets/go-string.html.95ba0027.js"><link rel="prefetch" href="/assets/go-struct-interface.html.44b55d9d.js"><link rel="prefetch" href="/assets/go-struct-memory-layout.html.8850b57c.js"><link rel="prefetch" href="/assets/go-time.html.4349941f.js"><link rel="prefetch" href="/assets/goå¹¶å‘å®‰å…¨ä¸é”.html.3df3f96c.js"><link rel="prefetch" href="/assets/grpc-protobuf.html.9f7f3de7.js"><link rel="prefetch" href="/assets/mac-go-env.html.bad6c7ad.js"><link rel="prefetch" href="/assets/index.html.10200e04.js"><link rel="prefetch" href="/assets/go-dynamically.html.70cdfb31.js"><link rel="prefetch" href="/assets/go-elf.html.6d2f1092.js"><link rel="prefetch" href="/assets/go-map-theory.html.8aac2791.js"><link rel="prefetch" href="/assets/go-statically.html.efc527e8.js"><link rel="prefetch" href="/assets/interface-type.html.341ddf38.js"><link rel="prefetch" href="/assets/map-grow.html.99db7597.js"><link rel="prefetch" href="/assets/sync-map.html.4fabf6f0.js"><link rel="prefetch" href="/assets/index.html.aee28beb.js"><link rel="prefetch" href="/assets/go-zeroæ¨¡å‹æ“ä½œ.html.09a82ae8.js"><link rel="prefetch" href="/assets/go-zeroç¯å¢ƒæ­å»º.html.339d327a.js"><link rel="prefetch" href="/assets/index.html.e41fabcf.js"><link rel="prefetch" href="/assets/mybatisplus-autofill.html.bf16e8a5.js"><link rel="prefetch" href="/assets/packaging-response.html.fd44f2b6.js"><link rel="prefetch" href="/assets/index.html.8ee37ab2.js"><link rel="prefetch" href="/assets/linux-single-install-redis.html.95c0d1c6.js"><link rel="prefetch" href="/assets/index.html.0f8e828b.js"><link rel="prefetch" href="/assets/cargo-base-use.html.1a895d26.js"><link rel="prefetch" href="/assets/first-rust-code.html.41c8ec2b.js"><link rel="prefetch" href="/assets/windows-env-rust.html.4d4021cc.js"><link rel="prefetch" href="/assets/index.html.b6590c97.js"><link rel="prefetch" href="/assets/go-tcp.html.0f815360.js"><link rel="prefetch" href="/assets/ipv4-learn.html.61d72484.js"><link rel="prefetch" href="/assets/ipv4-tcp-client.html.769bfffe.js"><link rel="prefetch" href="/assets/ipv4-udp.html.1f6636b6.js"><link rel="prefetch" href="/assets/socket-base.html.2bcdea48.js"><link rel="prefetch" href="/assets/socket-desc.html.148f89cf.js"><link rel="prefetch" href="/assets/stream-socket-api.html.15042480.js"><link rel="prefetch" href="/assets/unix-socket.html.8954986d.js"><link rel="prefetch" href="/assets/workerman-websocket-demo.html.e82c22d1.js"><link rel="prefetch" href="/assets/index.html.069eb883.js"><link rel="prefetch" href="/assets/admin-dashboard.html.17e2e0a2.js"><link rel="prefetch" href="/assets/cdn-page.html.1168c50c.js"><link rel="prefetch" href="/assets/404.html.ced7c096.js"><link rel="prefetch" href="/assets/index.html.44dd064b.js"><link rel="prefetch" href="/assets/index.html.5628e500.js"><link rel="prefetch" href="/assets/index.html.2d1f8449.js"><link rel="prefetch" href="/assets/index.html.9c522a4e.js"><link rel="prefetch" href="/assets/index.html.f72a8851.js"><link rel="prefetch" href="/assets/index.html.42b64bbd.js"><link rel="prefetch" href="/assets/index.html.d22a5382.js"><link rel="prefetch" href="/assets/index.html.9397ece1.js"><link rel="prefetch" href="/assets/index.html.cf7e6280.js"><link rel="prefetch" href="/assets/index.html.55fc93b2.js"><link rel="prefetch" href="/assets/index.html.65f0b681.js"><link rel="prefetch" href="/assets/index.html.9a99433f.js"><link rel="prefetch" href="/assets/index.html.ebf06184.js"><link rel="prefetch" href="/assets/index.html.3e12cb5b.js"><link rel="prefetch" href="/assets/index.html.285572b6.js"><link rel="prefetch" href="/assets/index.html.3cfb5382.js"><link rel="prefetch" href="/assets/index.html.56fe0682.js"><link rel="prefetch" href="/assets/index.html.5bcdbd56.js"><link rel="prefetch" href="/assets/index.html.bb3368f0.js"><link rel="prefetch" href="/assets/index.html.19b44cbd.js"><link rel="prefetch" href="/assets/index.html.50e6d476.js"><link rel="prefetch" href="/assets/index.html.ff08e8b4.js"><link rel="prefetch" href="/assets/index.html.52a69413.js"><link rel="prefetch" href="/assets/index.html.92937982.js"><link rel="prefetch" href="/assets/index.html.88b9097c.js"><link rel="prefetch" href="/assets/index.html.0c2a296a.js"><link rel="prefetch" href="/assets/index.html.85a77b51.js"><link rel="prefetch" href="/assets/index.html.9e6b1335.js"><link rel="prefetch" href="/assets/index.html.e724f39a.js"><link rel="prefetch" href="/assets/index.html.7fa0553e.js"><link rel="prefetch" href="/assets/index.html.52703b1e.js"><link rel="prefetch" href="/assets/index.html.070a30ca.js"><link rel="prefetch" href="/assets/index.html.c8be8e40.js"><link rel="prefetch" href="/assets/index.html.e94643bf.js"><link rel="prefetch" href="/assets/index.html.5575585c.js"><link rel="prefetch" href="/assets/index.html.9fdd349f.js"><link rel="prefetch" href="/assets/index.html.9b88bab1.js"><link rel="prefetch" href="/assets/index.html.01f04312.js"><link rel="prefetch" href="/assets/index.html.6789b64f.js"><link rel="prefetch" href="/assets/index.html.af7dbb9a.js"><link rel="prefetch" href="/assets/index.html.9ac67544.js"><link rel="prefetch" href="/assets/index.html.6fdeb5c4.js"><link rel="prefetch" href="/assets/index.html.5b3a33b0.js"><link rel="prefetch" href="/assets/index.html.51489c96.js"><link rel="prefetch" href="/assets/index.html.b91ce3e8.js"><link rel="prefetch" href="/assets/index.html.c63d0032.js"><link rel="prefetch" href="/assets/index.html.e9b3cd13.js"><link rel="prefetch" href="/assets/index.html.2c71f603.js"><link rel="prefetch" href="/assets/index.html.6203c8af.js"><link rel="prefetch" href="/assets/index.html.10fff8bd.js"><link rel="prefetch" href="/assets/index.html.5ebfabf1.js"><link rel="prefetch" href="/assets/index.html.b8d2cef5.js"><link rel="prefetch" href="/assets/index.html.021ec72c.js"><link rel="prefetch" href="/assets/index.html.d4635d48.js"><link rel="prefetch" href="/assets/index.html.62c42733.js"><link rel="prefetch" href="/assets/index.html.64794681.js"><link rel="prefetch" href="/assets/index.html.73a6d953.js"><link rel="prefetch" href="/assets/index.html.f08854c3.js"><link rel="prefetch" href="/assets/index.html.738a227b.js"><link rel="prefetch" href="/assets/index.html.36816e4b.js"><link rel="prefetch" href="/assets/index.html.4063a658.js"><link rel="prefetch" href="/assets/index.html.c2df43ea.js"><link rel="prefetch" href="/assets/index.html.d155b142.js"><link rel="prefetch" href="/assets/index.html.db9acfc8.js"><link rel="prefetch" href="/assets/index.html.8142ff58.js"><link rel="prefetch" href="/assets/index.html.8a702772.js"><link rel="prefetch" href="/assets/index.html.21ddeb35.js"><link rel="prefetch" href="/assets/index.html.a69996c5.js"><link rel="prefetch" href="/assets/index.html.f00087d1.js"><link rel="prefetch" href="/assets/index.html.21014659.js"><link rel="prefetch" href="/assets/index.html.0848d38d.js"><link rel="prefetch" href="/assets/index.html.1468b180.js"><link rel="prefetch" href="/assets/index.html.2211815c.js"><link rel="prefetch" href="/assets/index.html.5dcbd294.js"><link rel="prefetch" href="/assets/index.html.6d2b0dd5.js"><link rel="prefetch" href="/assets/index.html.44bb0b31.js"><link rel="prefetch" href="/assets/index.html.651e0790.js"><link rel="prefetch" href="/assets/index.html.3db08e08.js"><link rel="prefetch" href="/assets/index.html.2d9b61c7.js"><link rel="prefetch" href="/assets/index.html.e133c621.js"><link rel="prefetch" href="/assets/index.html.4b5b5ed4.js"><link rel="prefetch" href="/assets/index.html.756975db.js"><link rel="prefetch" href="/assets/index.html.3ac3b445.js"><link rel="prefetch" href="/assets/index.html.77e61b3f.js"><link rel="prefetch" href="/assets/index.html.db7c0f05.js"><link rel="prefetch" href="/assets/index.html.8a75526b.js"><link rel="prefetch" href="/assets/index.html.7ca2b67d.js"><link rel="prefetch" href="/assets/index.html.d35e0225.js"><link rel="prefetch" href="/assets/index.html.d659253c.js"><link rel="prefetch" href="/assets/index.html.77305115.js"><link rel="prefetch" href="/assets/index.html.bb42bc35.js"><link rel="prefetch" href="/assets/index.html.14d21940.js"><link rel="prefetch" href="/assets/index.html.95da5659.js"><link rel="prefetch" href="/assets/index.html.bb587a2d.js"><link rel="prefetch" href="/assets/index.html.e2d3d313.js"><link rel="prefetch" href="/assets/index.html.fa759e73.js"><link rel="prefetch" href="/assets/index.html.5fd98d25.js"><link rel="prefetch" href="/assets/index.html.f879a117.js"><link rel="prefetch" href="/assets/index.html.e919ec36.js"><link rel="prefetch" href="/assets/index.html.33e0173d.js"><link rel="prefetch" href="/assets/index.html.a1c3d810.js"><link rel="prefetch" href="/assets/index.html.ac3cb6f4.js"><link rel="prefetch" href="/assets/index.html.dc24f7ea.js"><link rel="prefetch" href="/assets/index.html.b4e880db.js"><link rel="prefetch" href="/assets/index.html.1ea7a471.js"><link rel="prefetch" href="/assets/index.html.612dbb47.js"><link rel="prefetch" href="/assets/404.c2cd54d4.js"><link rel="prefetch" href="/assets/Layout.f19ad014.js"><link rel="prefetch" href="/assets/Slide.b9f83878.js"><link rel="prefetch" href="/assets/Blog.11d35bac.js"><link rel="prefetch" href="/assets/giscus.es.4b119d67.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.d8b76e20.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="https://sword-demon.github.io/vue-blog/logo.jpg" alt="æ— è§£çš„æ¸¸æˆ"><!----><span class="site-name hide-in-pad">æ— è§£çš„æ¸¸æˆ</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åç«¯ç¬”è®°"><span class="title"><span class="icon iconfont icon-creative" style=""></span>åç«¯ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/views/" class="nav-link" aria-label="åç«¯å­¦ä¹ "><span class="icon iconfont icon-code" style=""></span>åç«¯å­¦ä¹ <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Go</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/go/" class="nav-link" aria-label="goè¯­è¨€åŸºç¡€"><!---->goè¯­è¨€åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/views/go-core/" class="nav-link" aria-label="goæ ¸å¿ƒ"><!---->goæ ¸å¿ƒ<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Go-zero</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/go-zero/" class="nav-link" aria-label="go-zeroå¾®æœåŠ¡æ¡†æ¶å­¦ä¹ "><!---->go-zeroå¾®æœåŠ¡æ¡†æ¶å­¦ä¹ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è¿ç»´æŠ€æœ¯</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/deploy/" class="nav-link active" aria-label="è¿ç»´ã€K8Sã€Dockerã€LinuxæŠ€æœ¯ç¬”è®°"><!---->è¿ç»´ã€K8Sã€Dockerã€LinuxæŠ€æœ¯ç¬”è®°<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Rust</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/rust/" class="nav-link" aria-label="Rustå­¦ä¹ "><!---->Rustå­¦ä¹ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/java/" class="nav-link" aria-label="Javaå­¦ä¹ "><!---->Javaå­¦ä¹ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/redis/" class="nav-link" aria-label="Rediså­¦ä¹ "><!---->Rediså­¦ä¹ <!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Linux"><span class="title"><!---->Linux</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/linux/" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-code" style=""></span>Linux<!----></a></li><li class="dropdown-item"><a href="/linux/c-core/" class="nav-link" aria-label="Linux C Core"><!---->Linux C Core<!----></a></li><li class="dropdown-item"><a href="/linux/process/" class="nav-link" aria-label="Linux PHP å¤šè¿›ç¨‹"><!---->Linux PHP å¤šè¿›ç¨‹<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/views/socket/" class="nav-link" aria-label="ç½‘ç»œç¼–ç¨‹"><!---->ç½‘ç»œç¼–ç¨‹<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/data-struct/" class="nav-link" aria-label="æ•°æ®ç»“æ„ä¸ç®—æ³•"><!---->æ•°æ®ç»“æ„ä¸ç®—æ³•<!----></a></div><div class="nav-item hide-in-mobile"><a href="/posts/" class="nav-link" aria-label="éšç¬”"><!---->éšç¬”<!----></a></div><div class="nav-item hide-in-mobile"><a href="/interview/" class="nav-link" aria-label="é¢è¯•"><!---->é¢è¯•<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/vue3/" class="nav-link" aria-label="Vue3"><!---->Vue3<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/sword-demon/sword-demon.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/views/deploy/" class="nav-link sidebar-link sidebar-page" aria-label="è¿ç»´ã€K8Sã€Dockerã€LinuxæŠ€æœ¯ç¬”è®°"><!---->è¿ç»´ã€K8Sã€Dockerã€LinuxæŠ€æœ¯ç¬”è®°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/vagrant-centos7.html" class="nav-link sidebar-link sidebar-page" aria-label="vagrantåˆ›å»ºcentos7è™šæ‹Ÿæœº"><!---->vagrantåˆ›å»ºcentos7è™šæ‹Ÿæœº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/mac-laradock.html" class="nav-link sidebar-link sidebar-page" aria-label="mac m1 å®‰è£…laradock"><!---->mac m1 å®‰è£…laradock<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/linux-install-docker.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå®‰è£…docker"><!---->Linuxå®‰è£…docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/docker-install-mysql.html" class="nav-link sidebar-link sidebar-page" aria-label="Dockerå®‰è£…MySQL"><!---->Dockerå®‰è£…MySQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/docker-install-redis.html" class="nav-link sidebar-link sidebar-page" aria-label="Dockerå®‰è£…Redis"><!---->Dockerå®‰è£…Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/linux-mysql8.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå®‰è£…MySQL8"><!---->Linuxå®‰è£…MySQL8<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/deploy/linux-install-nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå®‰è£…Nginxå’Œé…ç½®"><!---->Linuxå®‰è£…Nginxå’Œé…ç½®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Linuxç¼–è¯‘å®‰è£…PHP7.4å’ŒSwooleæ‰©å±•"><!---->Linuxç¼–è¯‘å®‰è£…PHP7.4å’ŒSwooleæ‰©å±•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#ç›®å½•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç›®å½•"><!---->ç›®å½•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#ä¸‹è½½å®‰è£…-yum-æº-centos7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‹è½½å®‰è£… yum æº(centos7)"><!---->ä¸‹è½½å®‰è£… yum æº(centos7)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-sl-å‘½ä»¤-å°ç«è½¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… sl å‘½ä»¤(å°ç«è½¦)"><!---->å®‰è£… sl å‘½ä»¤(å°ç«è½¦)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-ipython-å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… ipython å‘½ä»¤"><!---->å®‰è£… ipython å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-php7-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… PHP7.4"><!---->å®‰è£… PHP7.4<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-cmake-3-17-0-rc1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… cmake-3.17.0-rc1"><!---->å®‰è£… cmake-3.17.0-rc1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-libzip-1-6-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… libzip-1.6.1"><!---->å®‰è£… libzip-1.6.1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-zip-1-17-1-æ‰©å±•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… zip-1.17.1 æ‰©å±•"><!---->å®‰è£… zip-1.17.1 æ‰©å±•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#é…ç½®-php7-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é…ç½® PHP7.4"><!---->é…ç½® PHP7.4<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#æµ‹è¯•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æµ‹è¯•"><!---->æµ‹è¯•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#php7-4-æ€§èƒ½è°ƒä¼˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PHP7.4 æ€§èƒ½è°ƒä¼˜"><!---->PHP7.4 æ€§èƒ½è°ƒä¼˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å…³äº-opache-çš„ä¸€äº›é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…³äº opache çš„ä¸€äº›é…ç½®"><!---->å…³äº opache çš„ä¸€äº›é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#thinkphp-å¼€å¯äºŒçº§åŸŸå" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ThinkPHP å¼€å¯äºŒçº§åŸŸå"><!---->ThinkPHP å¼€å¯äºŒçº§åŸŸå<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#è°ƒæ•´-php7-4-é…ç½®çš„ä¸€äº›å†…å®¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è°ƒæ•´ PHP7.4 é…ç½®çš„ä¸€äº›å†…å®¹"><!---->è°ƒæ•´ PHP7.4 é…ç½®çš„ä¸€äº›å†…å®¹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#pdo-mysql-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="pdo_mysql"><!---->pdo_mysql<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#php7-4-å®‰è£…-swoole-æ‰©å±•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PHP7.4 å®‰è£… swoole æ‰©å±•"><!---->PHP7.4 å®‰è£… swoole æ‰©å±•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-composer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£… composer"><!---->å®‰è£… composer<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/views/deploy/quick-install-k8s.html" class="nav-link sidebar-link sidebar-page" aria-label="ä½¿ç”¨rancherå®‰è£…k8sé›†ç¾¤"><!---->ä½¿ç”¨rancherå®‰è£…k8sé›†ç¾¤<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Linuxç¼–è¯‘å®‰è£…PHP7.4å’ŒSwooleæ‰©å±•</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´8æœˆ14æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://sword-demon.github.io" target="_blank" rel="noopener noreferrer">wxvirus</a></span><span property="author" content="wxvirus"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´8æœˆ14æ—¥</span><meta property="datePublished" content="2022-08-14T21:04:10.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´8æœˆ14æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">Deploy</li><meta property="articleSection" content="Deploy"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" localizeddate="2022å¹´8æœˆ14æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag2 clickable" role="navigation">PHP</li><li class="tag tag7 clickable" role="navigation">Swoole</li></ul><meta property="keywords" content="PHP,Swoole"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´8æœˆ14æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#ç›®å½•" class="router-link-active router-link-exact-active toc-link level2">ç›®å½•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#ä¸‹è½½å®‰è£…-yum-æº-centos7" class="router-link-active router-link-exact-active toc-link level2">ä¸‹è½½å®‰è£… yum æº(centos7)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-sl-å‘½ä»¤-å°ç«è½¦" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… sl å‘½ä»¤(å°ç«è½¦)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-ipython-å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… ipython å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-php7-4" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… PHP7.4</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-cmake-3-17-0-rc1" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… cmake-3.17.0-rc1</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-libzip-1-6-1" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… libzip-1.6.1</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-zip-1-17-1-æ‰©å±•" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… zip-1.17.1 æ‰©å±•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#é…ç½®-php7-4" class="router-link-active router-link-exact-active toc-link level2">é…ç½® PHP7.4</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#æµ‹è¯•" class="router-link-active router-link-exact-active toc-link level3">æµ‹è¯•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#php7-4-æ€§èƒ½è°ƒä¼˜" class="router-link-active router-link-exact-active toc-link level2">PHP7.4 æ€§èƒ½è°ƒä¼˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å…³äº-opache-çš„ä¸€äº›é…ç½®" class="router-link-active router-link-exact-active toc-link level2">å…³äº opache çš„ä¸€äº›é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#thinkphp-å¼€å¯äºŒçº§åŸŸå" class="router-link-active router-link-exact-active toc-link level2">ThinkPHP å¼€å¯äºŒçº§åŸŸå</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#è°ƒæ•´-php7-4-é…ç½®çš„ä¸€äº›å†…å®¹" class="router-link-active router-link-exact-active toc-link level2">è°ƒæ•´ PHP7.4 é…ç½®çš„ä¸€äº›å†…å®¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#pdo-mysql-1" class="router-link-active router-link-exact-active toc-link level3">pdo_mysql</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#php7-4-å®‰è£…-swoole-æ‰©å±•" class="router-link-active router-link-exact-active toc-link level2">PHP7.4 å®‰è£… swoole æ‰©å±•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/deploy/linux-install-php-swoole.html#å®‰è£…-composer" class="router-link-active router-link-exact-active toc-link level2">å®‰è£… composer</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="php7-4-ç¼–è¯‘å®‰è£…" tabindex="-1"><a class="header-anchor" href="#php7-4-ç¼–è¯‘å®‰è£…" aria-hidden="true">#</a> PHP7.4 ç¼–è¯‘å®‰è£…</h1><h2 id="ç›®å½•" tabindex="-1"><a class="header-anchor" href="#ç›®å½•" aria-hidden="true">#</a> ç›®å½•</h2><ul><li><p><a href="#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85yum%E6%BA%90centos7">ä¸‹è½½å®‰è£… yum æº(centos7)</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85sl%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%81%AB%E8%BD%A6">å®‰è£… sl å‘½ä»¤(å°ç«è½¦)</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85ipython%E5%91%BD%E4%BB%A4">å®‰è£… ipython å‘½ä»¤</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85php74">å®‰è£… PHP7.4</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85cmake-3170-rc1">å®‰è£… cmake-3.17.0-rc1</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85libzip-161">å®‰è£… libzip-1.6.1</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85zip-1171%E6%89%A9%E5%B1%95">å®‰è£… zip-1.17.1 æ‰©å±•</a></p></li><li><p><a href="#%E9%85%8D%E7%BD%AEphp74">é…ç½® PHP7.4</a></p><ul><li><p><a href="#%E6%B5%8B%E8%AF%95">æµ‹è¯•</a></p><ul><li><p><a href="#zip">zip</a></p></li><li><p><a href="#mysqli">mysqli</a></p></li><li><p><a href="#pdo_mysql">pdo_mysql</a></p></li></ul></li></ul></li><li><p><a href="#php74%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98">PHP7.4 æ€§èƒ½è°ƒä¼˜</a></p></li><li><p><a href="#%E5%85%B3%E4%BA%8Eopache%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE">å…³äº opache çš„ä¸€äº›é…ç½®</a></p></li><li><p><a href="#thinkphp%E5%BC%80%E5%90%AF%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D">ThinkPHP å¼€å¯äºŒçº§åŸŸå</a></p></li><li><p><a href="#%E8%B0%83%E6%95%B4php74%E9%85%8D%E7%BD%AE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%86%85%E5%AE%B9">è°ƒæ•´ PHP7.4 é…ç½®çš„ä¸€äº›å†…å®¹</a></p><ul><li><a href="#pdo_mysql-1">pdo_mysql</a></li></ul></li><li><p><a href="#php74%E5%AE%89%E8%A3%85swoole%E6%89%A9%E5%B1%95">PHP7.4 å®‰è£… swoole æ‰©å±•</a></p></li><li><p><a href="#%E5%AE%89%E8%A3%85composer">å®‰è£… composer</a></p></li></ul><h2 id="ä¸‹è½½å®‰è£…-yum-æº-centos7" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½å®‰è£…-yum-æº-centos7" aria-hidden="true">#</a> ä¸‹è½½å®‰è£… yum æº(centos7)</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> http://mirror.centos.org/centos/7/extras/x86_64/Packages/epel-release-7-11.noarch.rpm

yum <span class="token function">install</span> -y epel-release-7-11.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰è£…-sl-å‘½ä»¤-å°ç«è½¦" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-sl-å‘½ä»¤-å°ç«è½¦" aria-hidden="true">#</a> å®‰è£… sl å‘½ä»¤(å°ç«è½¦)</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y sl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å®‰è£…-ipython-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-ipython-å‘½ä»¤" aria-hidden="true">#</a> å®‰è£… ipython å‘½ä»¤</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y ipython
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å®‰è£…-php7-4" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-php7-4" aria-hidden="true">#</a> å®‰è£… PHP7.4</h2><p>é¦–å…ˆå‡†å¤‡ä¸€ä¸ª 7.4 çš„æºç åŒ…ä¸Šä¼ åˆ°<code>/usr/local/src</code>ç›®å½•ä¸‹ï¼Œè¿›è¡Œè§£å‹</p><p>ç„¶åæŸ¥çœ‹ PHP7.4 éœ€è¦å®‰è£…çš„ä¸€äº›ä¾èµ–</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./configure --prefix<span class="token operator">=</span>/usr/local/php7 --with-config-file-path<span class="token operator">=</span>/usr/local/php7/etc  --with-mysqli   --with-pdo-mysql --with-xmlrpc --with-openssl --with-openssl-dir --with-zlib --with-zlib-dir  --with-freetype --enable-gd --with-jpeg  --enable-short-tags --enable-sockets --enable-soap --enable-mbstring --enable-static --with-curl  --with-xsl --enable-ftp --with-libxml  --enable-fpm --with-pdo-sqlite  --with-gettext --with-iconv-dir --with-kerberos --with-libdir<span class="token operator">=</span>lib64  --with-pear --with-mhash  --enable-gd-jis-conv --enable-bcmath --with-expat --enable-inline-optimization --enable-mbregex --enable-opcache  --enable-sysvsem --enable-xml --enable-maintainer-zts  --enable-simplexml --disable-rpath --disable-fileinfo

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯</p><blockquote><p>No package &#39;sqlite3&#39; found</p></blockquote><p>å®‰è£…ä¸€ä¸‹è¿™ä¸ªåº“å³å¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> libsqlite3x-devel -y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><blockquote><p>error: Package requirements (oniguruma) were not met</p></blockquote><p>å®‰è£…å¦‚ä¸‹ä¾èµ–</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> oniguruma-devel -y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå†é‡æ›´æ–°è¿è¡Œä¸Šé¢é…ç½®ä»£ç </p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>+--------------------------------------------------------------------+
<span class="token operator">|</span> License:                                                           <span class="token operator">|</span>
<span class="token operator">|</span> This software is subject to the PHP License, available <span class="token keyword">in</span> this     <span class="token operator">|</span>
<span class="token operator">|</span> distribution <span class="token keyword">in</span> the <span class="token function">file</span> LICENSE. By continuing this installation  <span class="token operator">|</span>
<span class="token operator">|</span> process, you are bound by the terms of this license agreement.     <span class="token operator">|</span>
<span class="token operator">|</span> If you <span class="token keyword">do</span> not agree with the terms of this license, you must abort <span class="token operator">|</span>
<span class="token operator">|</span> the installation process at this point.                            <span class="token operator">|</span>
+--------------------------------------------------------------------+

Thank you <span class="token keyword">for</span> using PHP.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€ç»ˆå‡ºç°è¿™ä¸ªï¼Œå°±ä»£è¡¨æˆåŠŸäº†ã€‚</p><p>ä¸‹é¢å°±å¯ä»¥<code>make &amp;&amp; make intall</code>è¿›è¡Œç¼–è¯‘å®‰è£…äº†</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Installing shared extensions:     /usr/local/php7/lib/php/extensions/no-debug-zts-20190902/
Installing PHP CLI binary:        /usr/local/php7/bin/
Installing PHP CLI <span class="token function">man</span> page:      /usr/local/php7/php/man/man1/
Installing PHP FPM binary:        /usr/local/php7/sbin/
Installing PHP FPM defconfig:     /usr/local/php7/etc/
Installing PHP FPM <span class="token function">man</span> page:      /usr/local/php7/php/man/man8/
Installing PHP FPM status page:   /usr/local/php7/php/php/fpm/
Installing phpdbg binary:         /usr/local/php7/bin/
Installing phpdbg <span class="token function">man</span> page:       /usr/local/php7/php/man/man1/
Installing PHP CGI binary:        /usr/local/php7/bin/
Installing PHP CGI <span class="token function">man</span> page:      /usr/local/php7/php/man/man1/
Installing build environment:     /usr/local/php7/lib/php/build/
Installing header files:          /usr/local/php7/include/php/
Installing helper programs:       /usr/local/php7/bin/
  program: phpize
  program: php-config
Installing <span class="token function">man</span> pages:             /usr/local/php7/php/man/man1/
  page: phpize.1
  page: php-config.1
Installing PEAR environment:      /usr/local/php7/lib/php/
<span class="token punctuation">[</span>PEAR<span class="token punctuation">]</span> Archive_Tar    - installed: <span class="token number">1.4</span>.8
<span class="token punctuation">[</span>PEAR<span class="token punctuation">]</span> Console_Getopt - installed: <span class="token number">1.4</span>.3
<span class="token punctuation">[</span>PEAR<span class="token punctuation">]</span> Structures_Graph- installed: <span class="token number">1.1</span>.1
<span class="token punctuation">[</span>PEAR<span class="token punctuation">]</span> XML_Util       - installed: <span class="token number">1.4</span>.3
<span class="token punctuation">[</span>PEAR<span class="token punctuation">]</span> PEAR           - installed: <span class="token number">1.10</span>.10
Wrote PEAR system config <span class="token function">file</span> at: /usr/local/php7/etc/pear.conf
You may want to add: /usr/local/php7/lib/php to your php.ini include_path
/usr/local/src/php-7.4.2/build/shtool <span class="token function">install</span> -c ext/phar/phar.phar /usr/local/php7/bin
<span class="token function">ln</span> -s -f phar.phar /usr/local/php7/bin/phar
Installing PDO headers:           /usr/local/php7/include/php/ext/pdo/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡ºç°ä¸Šè¿°å†…å®¹ï¼Œè¡¨ç¤ºç¼–è¯‘å®‰è£…å®Œæˆäº†ã€‚</p><h2 id="å®‰è£…-cmake-3-17-0-rc1" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-cmake-3-17-0-rc1" aria-hidden="true">#</a> å®‰è£… cmake-3.17.0-rc1</h2><p>å°†ä¸‹è½½å¥½çš„åŒ…ä¼ åˆ°æœåŠ¡å™¨<code>/usr/local/src</code>ç›®å½•ä¸‹è¿›è¡Œè§£å‹</p><p>è§£å‹å®Œè¿›å…¥ç›®å½•ä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 cmake-3.17.0-rc1<span class="token punctuation">]</span><span class="token comment"># ./bootstrap</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-- Build files have been written to: /usr/local/src/cmake-3.17.0-rc1
---------------------------------------------
CMake has bootstrapped.  Now run gmake.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡ºç°ä¸Šè¿°å†…å®¹ï¼Œæ ¹æ®å®ƒçš„æç¤ºè¿è¡Œ<code>gmake</code>ï¼Œç­‰åˆ°<code>gmake</code>è¿è¡Œå®Œäº†ï¼Œå†ç»§ç»­è¿è¡Œ<code>make install</code>å‘½ä»¤ï¼Œè¿™ä¸ªé€Ÿåº¦ä¼šæ¯”è¾ƒå¿«ã€‚</p><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å®‰è£…<code>libzip</code>ç»„ä»¶</p><h2 id="å®‰è£…-libzip-1-6-1" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-libzip-1-6-1" aria-hidden="true">#</a> å®‰è£… libzip-1.6.1</h2><p>æˆ‘ä»¬å…ˆå»æ‰¾èµ„æºä¸‹è½½ä¸€ä¸ªè¿™ä¸ªåŒ…ï¼Œç„¶åä¸Šä¼ åˆ°<code>/usr/local/src</code>ç›®å½•ä¸­å¹¶è§£å‹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 src<span class="token punctuation">]</span><span class="token comment"># cd libzip-1.6.1/</span>
<span class="token punctuation">[</span>root@10 libzip-1.6.1<span class="token punctuation">]</span><span class="token comment"># mkdir build</span>
<span class="token punctuation">[</span>root@10 libzip-1.6.1<span class="token punctuation">]</span><span class="token comment"># cd build/</span>
<span class="token punctuation">[</span>root@10 build<span class="token punctuation">]</span><span class="token comment"># cmake ..</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åå‡ºç°ä»¥ä¸‹å†…å®¹å³å¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-- Configuring <span class="token keyword">done</span>
-- Generating <span class="token keyword">done</span>
-- Build files have been written to: /usr/local/src/libzip-1.6.1/build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°±åœ¨<code>build</code>ç›®å½•ä¸­è¿›è¡Œ<code>make &amp;&amp; make install</code>ï¼Œè¿™ä¸ªé€Ÿåº¦ä¹Ÿä¼šæŒºå¿«çš„ã€‚</p><p>å®‰è£…æˆåŠŸå‡ºç°ä¸‹é¢çš„éƒ¨åˆ†å†…å®¹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-- Installing: /usr/local/bin/zipcmp
-- Set runtime path of <span class="token string">&quot;/usr/local/bin/zipcmp&quot;</span> to <span class="token string">&quot;&quot;</span>
-- Installing: /usr/local/bin/zipmerge
-- Set runtime path of <span class="token string">&quot;/usr/local/bin/zipmerge&quot;</span> to <span class="token string">&quot;&quot;</span>
-- Installing: /usr/local/bin/ziptool
-- Set runtime path of <span class="token string">&quot;/usr/local/bin/ziptool&quot;</span> to <span class="token string">&quot;&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/ld.so.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ·»åŠ å†…å®¹</p><div class="language-çº¯æ–‡æœ¬ ext-çº¯æ–‡æœ¬ line-numbers-mode"><pre class="language-çº¯æ–‡æœ¬"><code>include ld.so.conf.d/*.conf

/usr/local/lib64
/usr/local/lib
/usr/lib
/usr/lib64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åä½¿ç”¨<code>lbconfig -v</code>æŸ¥çœ‹ä¸€ä¸‹å³å¯</p><h2 id="å®‰è£…-zip-1-17-1-æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-zip-1-17-1-æ‰©å±•" aria-hidden="true">#</a> å®‰è£… zip-1.17.1 æ‰©å±•</h2><p>æˆ‘ä»¬å…ˆå»æ‰¾èµ„æºä¸‹è½½ä¸€ä¸ªè¿™ä¸ªåŒ…ï¼Œç„¶åä¸Šä¼ åˆ°<code>/usr/local/src</code>ç›®å½•ä¸­å¹¶è§£å‹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 zip-1.17.1<span class="token punctuation">]</span><span class="token comment"># /usr/local/php7/bin/phpize</span>
Configuring for:
PHP Api Version:         <span class="token number">20190902</span>
Zend Module Api No:      <span class="token number">20190902</span>
Zend Extension Api No:   <span class="token number">320190902</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 zip-1.17.1<span class="token punctuation">]</span><span class="token comment"># ./configure --with-php-config=/usr/local/php7/bin/php-config</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‡ºç°ä»¥ä¸‹å†…å®¹å³å¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>creating libtool
appending configuration tag <span class="token string">&quot;CXX&quot;</span> to libtool
configure: patching config.h.in
configure: creating ./config.status
config.status: creating config.h

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åç¼–è¯‘å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 zip-1.17.1<span class="token punctuation">]</span><span class="token comment"># make &amp;&amp; make install</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±ä¼šå‡ºç°ä»¥ä¸‹ç»“æœ</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Build complete.
Don<span class="token string">&#39;t forget to run &#39;</span><span class="token function">make</span> test&#39;.

Installing shared extensions:     /usr/local/php7/lib/php/extensions/no-debug-zts-20190902/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®-php7-4" tabindex="-1"><a class="header-anchor" href="#é…ç½®-php7-4" aria-hidden="true">#</a> é…ç½® PHP7.4</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 php-7.4.2<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/php7/</span>
<span class="token punctuation">[</span>root@10 php7<span class="token punctuation">]</span><span class="token comment"># cp etc/php-fpm.conf.default etc/php-fpm.conf</span>
<span class="token punctuation">[</span>root@10 php7<span class="token punctuation">]</span><span class="token comment"># cp /usr/local/src/php-7.4.2/php.ini-development /usr/local/php7/etc/php.ini</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 php7<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/php7/etc/php-fpm.d/</span>
<span class="token punctuation">[</span>root@10 php-fpm.d<span class="token punctuation">]</span><span class="token comment"># cp www.conf.default www.conf</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–è¾‘<code>php.ini</code>åŠ å…¥<code>zip.so</code>æ‰©å±•ç”Ÿæ•ˆ</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment">;extension=soap</span>
<span class="token comment">;extension=sockets</span>
<span class="token comment">;extension=sodium</span>
<span class="token comment">;extension=sqlite3</span>
<span class="token comment">;extension=tidy</span>
<span class="token comment">;extension=xmlrpc</span>
<span class="token comment">;extension=xsl</span>
<span class="token key attr-name">extension</span><span class="token punctuation">=</span><span class="token value attr-value">zip.so</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>php-fpm</code>æ¥å¯åŠ¨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 php-fpm.d<span class="token punctuation">]</span><span class="token comment"># /usr/local/php7/sbin/php-fpm</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 php-fpm.d<span class="token punctuation">]</span><span class="token comment"># netstat -tpln</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">706</span>/sshd
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:9000          <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">14896</span>/php-fpm: mast
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:111             <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">357</span>/rpcbind
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">3295</span>/nginx: master
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">706</span>/sshd
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::33060                :::*                    LISTEN      <span class="token number">1634</span>/mysqld
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::3306                 :::*                    LISTEN      <span class="token number">1634</span>/mysqld
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::111                  :::*                    LISTEN      <span class="token number">357</span>/rpcbind
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬å°†<code>php-fpm</code>åŠ å…¥åˆ°å¼€æœºè‡ªå¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 php-fpm.d<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/src/php-7.4.2/sapi/fpm/</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># cp init.d.php-fpm /etc/init.d/php-fpm7</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chmod a+x /etc/init.d/php-fpm7</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chkconfig php-fpm</span>
php-fpm             php-fpm.8.in        php-fpm.conf.in     php-fpm.service.in
php-fpm.8           php-fpm.conf        php-fpm.service
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chkconfig php-fpm</span>
php-fpm             php-fpm.8.in        php-fpm.conf.in     php-fpm.service.in
php-fpm.8           php-fpm.conf        php-fpm.service
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chkconfig php-fpm7 on</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">14896</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">15</span>:59 ?        00:00:00 php-fpm: master process <span class="token punctuation">(</span>/usr/local/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nobody   <span class="token number">14897</span> <span class="token number">14896</span>  <span class="token number">0</span> <span class="token number">15</span>:59 ?        00:00:00 php-fpm: pool www
nobody   <span class="token number">14898</span> <span class="token number">14896</span>  <span class="token number">0</span> <span class="token number">15</span>:59 ?        00:00:00 php-fpm: pool www
root     <span class="token number">15035</span>  <span class="token number">3378</span>  <span class="token number">0</span> <span class="token number">16</span>:06 pts/1    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto php-fpm
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># kill -9 14896</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># kill -9 14897</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># kill -9 14898</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">15037</span>  <span class="token number">3378</span>  <span class="token number">0</span> <span class="token number">16</span>:06 pts/1    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto php-fpm
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># service php-fpm7 restart</span>
Gracefully shutting down php-fpm warning, no pid <span class="token function">file</span> found - php-fpm is not running ?
Starting php-fpm  <span class="token keyword">done</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹æ˜¯å¦è¿›å…¥å¼€æœºå¯åŠ¨é¡¹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chkconfig php-fpm7 --list</span>

Note: This output shows SysV services only and does not include native
      systemd services. SysV configuration data might be overridden by native
      systemd configuration.

      If you want to list systemd services use <span class="token string">&#39;systemctl list-unit-files&#39;</span><span class="token builtin class-name">.</span>
      To see services enabled on particular target use
      <span class="token string">&#39;systemctl list-dependencies [target]&#39;</span><span class="token builtin class-name">.</span>

php-fpm7         <span class="token number">0</span>:off  <span class="token number">1</span>:off  <span class="token number">2</span>:on  <span class="token number">3</span>:on  <span class="token number">4</span>:on  <span class="token number">5</span>:on  <span class="token number">6</span>:off

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦ 3ï¼Œ4ï¼Œ5 æ˜¯<code>on</code>å³å¯ã€‚</p><p>ç„¶åæˆ‘ä»¬è¿˜éœ€è¦é…ç½®<code>nginx.conf</code>å¯ä»¥ä½¿ç”¨<code>php</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># vim /usr/local/nginx/conf/nginx.conf</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ~ \.php$</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">fastcgi_pass</span>   127.0.0.1:9000</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_index</span>  index.php</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">include</span>        fastcgi_params</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">root</span>   /home/web/</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">index</span>  index.php index.html index.htm</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹ä¸Šè¿°å†…ä¿å­˜ä¹‹åï¼Œé‡å¯ä»¥ä¸‹<code>nginx</code></p><h3 id="æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•" aria-hidden="true">#</a> æµ‹è¯•</h3><p>ç®€å•ç¼–å†™ä¸€ä¸ª<code>index.php</code>ï¼ŒåŠ å…¥<code>phpinfo()</code>å‡½æ•°</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># vim /home/web/index.php</span>
<span class="token punctuation">[</span>root@10 fpm<span class="token punctuation">]</span><span class="token comment"># chown -R nginx.nginx /home/web/</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå†æ¬¡æ›´æ–°å®ƒçš„æƒé™ï¼Œå†æ¬¡è®¿é—®æˆ‘ä»¬çš„è™šæ‹Ÿæœºçš„<code>ip</code>åœ°å€å°±ä¼šæ˜¾ç¤ºå¯¹åº”çš„<code>phpinfo</code>çš„å†…å®¹</p><p>å°±å¯ä»¥çœ‹åˆ°ä¸‹é¢å‡ ä¸ªä¾èµ–åº“çš„å†…å®¹</p><h4 id="zip" tabindex="-1"><a class="header-anchor" href="#zip" aria-hidden="true">#</a> zip</h4><table><thead><tr><th>Zip</th><th>enabled</th></tr></thead><tbody><tr><td>Zip version</td><td>1.17.1</td></tr><tr><td>Libzip headers version</td><td>1.6.1</td></tr><tr><td>Libzip library version</td><td>1.6.1</td></tr></tbody></table><h4 id="mysqli" tabindex="-1"><a class="header-anchor" href="#mysqli" aria-hidden="true">#</a> mysqli</h4><table><thead><tr><th>MysqlI Support</th><th>enabled</th></tr></thead><tbody><tr><td>Client API library version</td><td>mysqlnd 7.4.2</td></tr><tr><td>Active Persistent Links</td><td>0</td></tr><tr><td>Inactive Persistent Links</td><td>0</td></tr><tr><td>Active Links</td><td>0</td></tr></tbody></table><h4 id="pdo-mysql" tabindex="-1"><a class="header-anchor" href="#pdo-mysql" aria-hidden="true">#</a> pdo_mysql</h4><table><thead><tr><th>PDO Driver for MySQL</th><th>enabled</th></tr></thead><tbody><tr><td>Client API version</td><td>mysqlnd 7.4.2</td></tr></tbody></table><p>æˆ‘ä»¬è¿˜è¦è®¾ç½®ä»¥ä¸‹å®‰è£…<code>nginx</code>çš„æ—¶å€™è®¾ç½®çš„<code>home/web/php7</code>ç›®å½•ä¸‹çš„ä¸€ä¸ª<code>php7.conf</code></p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ~ \.php$</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">fastcgi_pass</span>   127.0.0.1:9000</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_index</span>  index.php</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">include</span>        fastcgi_params</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹ŸåŠ ä¸Šä¸Šè¿°å†…å®¹å³å¯ã€‚</p><p>å®Œæ•´å†…å®¹</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
        <span class="token comment"># ç›‘å¬ç«¯å£å·</span>
        <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
        <span class="token comment"># åŸŸå</span>
        <span class="token directive"><span class="token keyword">server_name</span> www.php7.tt</span><span class="token punctuation">;</span>
        <span class="token comment"># ç½‘ç«™ç›®å½•</span>
        <span class="token directive"><span class="token keyword">root</span> /home/web/php7/</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">location</span> /</span><span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">ssi</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">ssi_silent_errors</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">index</span> index.php index.html index.htm</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token directive"><span class="token keyword">location</span> ~ \.php$</span> <span class="token punctuation">{</span>
                <span class="token directive"><span class="token keyword">fastcgi_pass</span>   127.0.0.1:9000</span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">fastcgi_index</span>  index.php</span><span class="token punctuation">;</span>
                <span class="token directive"><span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span></span><span class="token punctuation">;</span>
                 <span class="token directive"><span class="token keyword">include</span>        fastcgi_params</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token directive"><span class="token keyword">access_log</span> /usr/local/nginx/logs/php7_access.log</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">error_log</span> /usr/local/nginx/logs/php7_error.log</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæ¥ç€è¿˜æ˜¯è¦é‡å¯ä»¥ä¸‹<code>nginx</code></p><p>å¯¹åº”ä¹Ÿå¯¹<code>php7</code>ç›®å½•ä¸‹æ–°å¢ä¸€ä¸ª<code>index.php</code>åŠ å…¥<code>phpinfo()</code>å‡½æ•°æ¥æµ‹è¯•ä»¥ä¸‹æ˜¯å¦æˆåŠŸã€‚</p><h2 id="php7-4-æ€§èƒ½è°ƒä¼˜" tabindex="-1"><a class="header-anchor" href="#php7-4-æ€§èƒ½è°ƒä¼˜" aria-hidden="true">#</a> PHP7.4 æ€§èƒ½è°ƒä¼˜</h2><p>ç»™<code>php-fpm</code>æ·»åŠ æ—¥å¿—æ–‡ä»¶ç›®å½•</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># mkdir -p /usr/local/php7/log</span>
<span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># chown -R nginx.nginx /usr/local/php7/</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åç¼–è¾‘</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#æ€§èƒ½è°ƒä¼˜</span>
<span class="token function">vim</span> /usr/local/php7/etc/php-fpm.conf

<span class="token comment"># å°†ä»¥ä¸‹å†…å®¹æ³¨é‡Šå»æ‰</span>
pid <span class="token operator">=</span> run/php-fpm.pid
error_log <span class="token operator">=</span> log/php-fpm.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /usr/local/php7/etc/php-fpm.d/www.conf

<span class="token comment"># å°†ä¸‹é¢å†…å®¹è¿›è¡Œæ›¿æ¢ä¸ºnginxç”¨æˆ·</span>
user <span class="token operator">=</span> nginx
group <span class="token operator">=</span> nginx

<span class="token comment"># å¦‚æœ listen ç›‘å¬çš„æ˜¯9000é‚£å°±ä¸ç”¨ç®¡  æš‚æ—¶ä¿å­˜ï¼Œä¸‹é¢è¿˜è¦è®¾ç½®å†…å®¹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">15049</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">16</span>:06 ?        00:00:00 php-fpm: master process <span class="token punctuation">(</span>/usr/local/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nobody   <span class="token number">15050</span> <span class="token number">15049</span>  <span class="token number">0</span> <span class="token number">16</span>:06 ?        00:00:00 php-fpm: pool www
nobody   <span class="token number">15051</span> <span class="token number">15049</span>  <span class="token number">0</span> <span class="token number">16</span>:06 ?        00:00:00 php-fpm: pool www

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°è¿™è¾¹è¿˜æ˜¯<code>nobody</code>ï¼Œæˆ‘ä»¬éœ€è¦é‡å¯ä»¥ä¸‹<code>php-fpm7</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># service php-fpm7 restart</span>
Gracefully shutting down php-fpm <span class="token builtin class-name">.</span> <span class="token keyword">done</span>
Starting php-fpm  <span class="token keyword">done</span>
<span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">15428</span>  <span class="token number">3378</span>  <span class="token number">0</span> <span class="token number">16</span>:26 pts/1    00:00:00 <span class="token function">vim</span> /usr/local/php7/etc/php-fpm.d/www.conf
root     <span class="token number">15455</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">16</span>:28 ?        00:00:00 php-fpm: master process <span class="token punctuation">(</span>/usr/local/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nginx    <span class="token number">15456</span> <span class="token number">15455</span>  <span class="token number">0</span> <span class="token number">16</span>:28 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15457</span> <span class="token number">15455</span>  <span class="token number">0</span> <span class="token number">16</span>:28 ?        00:00:00 php-fpm: pool www

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>ç»§ç»­é…ç½®<code>vim /usr/local/php7/etc/php-fpm.d/www.conf</code></p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">pm</span> = dynamic</span><span class="token punctuation">;</span> <span class="token comment"># è¡¨ç¤ºä½¿ç”¨å“ªç§è¿›ç¨‹æ•°é‡ç®¡ç†æ–¹å¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p><code>dynamic</code>è¡¨ç¤º<code>php-fpm</code>è¿›ç¨‹æ•°æ˜¯åŠ¨æ€çš„ï¼Œæœ€å¼€å§‹æ˜¯<code>pms.start_servers</code>æŒ‡å®šçš„æ•°é‡ï¼Œå¦‚æœè¯·æ±‚è¾ƒå¤š ï¼Œåˆ™ä¼šè‡ªåŠ¨å¢åŠ ï¼Œä¿è¯ç©ºé—²çš„è¿›ç¨‹æ•°ä¸å°äº<code>pm.min_spare_servers</code>ï¼Œå¦‚æœè¿›ç¨‹æ•°è¾ƒå¤šï¼Œä¹Ÿä¼šè¿›è¡Œç›¸åº”æ¸…ç†ï¼Œä¿è¯å¤šä½™çš„è¿›ç¨‹æ•°ä¸å¤šäº<code>pm.max_spare_servers</code></p></li><li><p><code>static</code>è¡¨ç¤º<code>php-fpm</code>è¿›ç¨‹æ•°æ˜¯é™æ€çš„, è¿›ç¨‹æ•°è‡ªå§‹è‡³ç»ˆéƒ½æ˜¯<code>pm.max_children</code>æŒ‡å®šçš„æ•°é‡ï¼Œä¸å†å¢åŠ æˆ–å‡å°‘</p></li></ul><p>æ­¤æ—¶<code>pm.max_children = 5</code>ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¿®æ”¹<code>pm</code>ä¸º<code>static</code>ï¼Œé‡å¯<code>php-fpm7</code>æ¥æŸ¥çœ‹å¯åŠ¨äº†å¤šå°‘ä¸ªè¿›ç¨‹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># service php-fpm7 restart</span>
Gracefully shutting down php-fpm <span class="token builtin class-name">.</span> <span class="token keyword">done</span>
Starting php-fpm  <span class="token keyword">done</span>
<span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">15428</span>  <span class="token number">3378</span>  <span class="token number">0</span> <span class="token number">16</span>:26 pts/1    00:00:00 <span class="token function">vim</span> /usr/local/php7/etc/php-fpm.d/www.conf
root     <span class="token number">15475</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: master process <span class="token punctuation">(</span>/usr/local/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nginx    <span class="token number">15476</span> <span class="token number">15475</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15477</span> <span class="token number">15475</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15478</span> <span class="token number">15475</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15479</span> <span class="token number">15475</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15480</span> <span class="token number">15475</span>  <span class="token number">0</span> <span class="token number">16</span>:31 ?        00:00:00 php-fpm: pool www
root     <span class="token number">15482</span> <span class="token number">29045</span>  <span class="token number">0</span> <span class="token number">16</span>:31 pts/0    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto php-fpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‰€ä»¥<code>pm.max_children</code>è¿™ä¸ªå‚æ•°åªå¯¹é™æ€æ¨¡å¼ä¸‹èµ·ä½œç”¨ã€‚ é™æ€æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬æœ€å¥½è®¾ç½®ä¸º 100 ä¸ªã€‚</p></blockquote><p>æˆ‘ä»¬æœ€åè¿˜æ˜¯æ”¹å›åŠ¨æ€æ¨¡å¼ï¼ŒåŠ¨æ€æ¨¡å¼å¯ä»¥åŠ¨æ€èŠ‚çœèµ„æº</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">The</span> number of child processes created <span class="token boolean">on</span> startup.</span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">Note:</span> Used only when pm is set to <span class="token string">&#39;dynamic&#39;</span></span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">Default</span> Value: (min_spare_servers + max_spare_servers) / <span class="token number">2</span>
pm.start_servers = <span class="token number">10</span></span>

<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">The</span> desired minimum number of idle server processes.</span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">Note:</span> Used only when pm is set to <span class="token string">&#39;dynamic&#39;</span></span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">Note:</span> Mandatory when pm is set to <span class="token string">&#39;dynamic&#39;</span>
pm.min_spare_servers = <span class="token number">5</span></span>

<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">The</span> desired maximum number of idle server processes.</span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">Note:</span> Used only when pm is set to <span class="token string">&#39;dynamic&#39;</span></span>
<span class="token punctuation">;</span> Note: Mandatory when pm is set to &#39;dynamic&#39;
pm.max_spare_servers = 35

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯åè§‚å¯Ÿæ•ˆæœ</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 nginx<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep php-fpm</span>
root     <span class="token number">15428</span>  <span class="token number">3378</span>  <span class="token number">0</span> <span class="token number">16</span>:26 pts/1    00:00:00 <span class="token function">vim</span> /usr/local/php7/etc/php-fpm.d/www.conf
root     <span class="token number">15652</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: master process <span class="token punctuation">(</span>/usr/local/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nginx    <span class="token number">15653</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15654</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15655</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15656</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15657</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15658</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15659</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15660</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15661</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
nginx    <span class="token number">15662</span> <span class="token number">15652</span>  <span class="token number">0</span> <span class="token number">16</span>:40 ?        00:00:00 php-fpm: pool www
root     <span class="token number">15664</span> <span class="token number">29045</span>  <span class="token number">0</span> <span class="token number">16</span>:40 pts/0    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto php-fpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬æœ€åç»™<code>pm.start_servers = 20</code>è®¾ç½®ä¸º 20 ä¸ª</p><hr><blockquote><p><code>pm.max_requests</code>æ˜¯å‘é€å¤šå°‘ä¸ªè¯·æ±‚åä¼šé‡å¯è¯¥çº¿ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦é€‚å½“é™ä½è¿™ä¸ªå€¼ï¼Œç”¨ä»¥è®©<code>php-fpm</code>è‡ªåŠ¨çš„é‡Šæ”¾å†…å­˜</p></blockquote><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">The</span> number of requests each child process should execute before respawning.</span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">This</span> can be useful to work around memory leaks in <span class="token number">3rd</span> party libraries. For</span>
<span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">endless</span> request processing specify <span class="token string">&#39;0&#39;</span>. Equivalent to PHP_FCGI_MAX_REQUESTS.</span>
<span class="token punctuation">;</span> Default Value: 0
pm.max_requests = 10240
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å¼€å¯æ…¢æŸ¥è¯¢</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code>slowlog = log/$pool.log.slow
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®è¶…æ—¶æ—¶é—´ 2 ç§’é’Ÿ</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code>request_slowlog_timeout = 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®æœ€å¤§æ‰§è¡Œæ—¶é—´</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code>request_terminate_timeout = 30
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨<code>php.ini</code>ä¸­ä¹Ÿå¯ä»¥è¿›è¡Œé…ç½®(<code>max_execution_time</code>)</p><p>å¢åŠ <code>php-fpm</code>æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦çš„é™åˆ¶</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code>rlimit_files = 65535
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å…³äº-opache-çš„ä¸€äº›é…ç½®" tabindex="-1"><a class="header-anchor" href="#å…³äº-opache-çš„ä¸€äº›é…ç½®" aria-hidden="true">#</a> å…³äº opache çš„ä¸€äº›é…ç½®</h2><blockquote><p>æµ‹è¯•ç¯å¢ƒæˆ–è€…å¼€å‘ç¯å¢ƒä¸å»ºè®®å¼€ï¼Œçº¿ä¸Šç¯å¢ƒå¯ä»¥å¼€</p></blockquote><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">zend_extension=opcache.so</span></span>
<span class="token punctuation">;</span>å¼€å¯opcache
<span class="token directive"><span class="token keyword">opcache.enable=1</span></span>

<span class="token punctuation">;</span>CLIç¯å¢ƒä¸‹ï¼ŒPHPå¯ç”¨OPcache
<span class="token directive"><span class="token keyword">opcache.enable_cli=1</span></span>

<span class="token punctuation">;</span>OPcacheå…±äº«å†…å­˜å­˜å‚¨å¤§å°,å•ä½MB
<span class="token directive"><span class="token keyword">opcache.memory_consumption=128</span></span>

<span class="token punctuation">;</span>PHPä½¿ç”¨äº†ä¸€ç§å«åšå­—ç¬¦ä¸²é©»ç•™ï¼ˆstring <span class="token directive"><span class="token keyword">interningï¼‰çš„æŠ€æœ¯æ¥æ”¹å–„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä»£ç ä¸­ä½¿ç”¨äº†1000æ¬¡å­—ç¬¦ä¸²â€œfoobarâ€ï¼Œåœ¨PHPå†…éƒ¨åªä¼šåœ¨ç¬¬ä¸€ä½¿ç”¨è¿™ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™åˆ†é…ä¸€ä¸ªä¸å¯å˜çš„å†…å­˜åŒºåŸŸæ¥å­˜å‚¨è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä»–çš„999æ¬¡ä½¿ç”¨éƒ½ä¼šç›´æ¥æŒ‡å‘è¿™ä¸ªå†…å­˜åŒºåŸŸã€‚è¿™ä¸ªé€‰é¡¹åˆ™ä¼šæŠŠè¿™ä¸ªç‰¹æ€§æå‡ä¸€ä¸ªå±‚æ¬¡â€”â€”é»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªä¸å¯å˜çš„å†…å­˜åŒºåŸŸåªä¼šå­˜åœ¨äºå•ä¸ªphp-fpmçš„è¿›ç¨‹ä¸­ï¼Œå¦‚æœè®¾ç½®äº†è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šåœ¨æ‰€æœ‰çš„php-fpmè¿›ç¨‹ä¸­å…±äº«ã€‚åœ¨æ¯”è¾ƒå¤§çš„åº”ç”¨ä¸­ï¼Œè¿™å¯ä»¥éå¸¸æœ‰æ•ˆåœ°èŠ‚çº¦å†…å­˜ï¼Œæé«˜åº”ç”¨çš„æ€§èƒ½ã€‚</span>
è¿™ä¸ªé€‰é¡¹çš„å€¼æ˜¯ä»¥å…†å­—èŠ‚ï¼ˆmegabytesï¼‰ä½œä¸ºå•ä½ï¼Œå¦‚æœæŠŠå®ƒè®¾ç½®ä¸º16ï¼Œåˆ™è¡¨ç¤º16MBï¼Œé»˜è®¤æ˜¯4MB
opcache.interned_strings_buffer=8</span>

<span class="token punctuation">;</span>è¿™ä¸ªé€‰é¡¹ç”¨äºæ§åˆ¶å†…å­˜ä¸­æœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ä¸ªPHPæ–‡ä»¶ã€‚è¿™ä¸ªé€‰é¡¹å¿…é¡»å¾—è®¾ç½®å¾—è¶³å¤Ÿå¤§ï¼Œå¤§äºä½ çš„é¡¹ç›®ä¸­çš„æ‰€æœ‰PHPæ–‡ä»¶çš„æ€»å’Œã€‚
è®¾ç½®å€¼å–å€¼èŒƒå›´æœ€å°å€¼æ˜¯ <span class="token directive"><span class="token keyword">200ï¼Œæœ€å¤§å€¼åœ¨</span> PHP 5.5.6 ä¹‹å‰æ˜¯ 100000ï¼ŒPHP 5.5.6 åŠä¹‹åæ˜¯ 1000000ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨200åˆ°1000000ä¹‹é—´ã€‚
opcache.max_accelerated_files=10000</span>

<span class="token punctuation">;</span>è®¾ç½®ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼ˆå•ä½æ˜¯ç§’ï¼‰,ä¸º0çš„è¯æ¯æ¬¡éƒ½è¦æ£€æŸ¥
<span class="token directive"><span class="token keyword">opcache.revalidate_freq=60</span></span>

<span class="token punctuation">;</span>ä»å­—é¢ä¸Šç†è§£å°±æ˜¯â€œå…è®¸æ›´å¿«é€Ÿå…³é—­â€ã€‚å®ƒçš„ä½œç”¨æ˜¯åœ¨å•ä¸ªè¯·æ±‚ç»“æŸæ—¶æä¾›ä¸€ç§æ›´å¿«é€Ÿçš„æœºåˆ¶æ¥è°ƒç”¨ä»£ç ä¸­çš„ææ„å™¨ï¼Œä»è€ŒåŠ å¿«PHPçš„å“åº”é€Ÿåº¦å’ŒPHPè¿›ç¨‹èµ„æºçš„å›æ”¶é€Ÿåº¦ï¼Œè¿™æ ·åº”ç”¨ç¨‹åºå¯ä»¥æ›´å¿«é€Ÿåœ°å“åº”ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚æŠŠå®ƒè®¾ç½®ä¸º1å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæœºåˆ¶äº†ã€‚
<span class="token directive"><span class="token keyword">opcache.fast_shutdown=1</span></span>

<span class="token punctuation">;</span>å¦‚æœå¯ç”¨ï¼ˆè®¾ç½®ä¸º1ï¼‰ï¼ŒOPcacheä¼šåœ¨opcache.revalidate_freqè®¾ç½®çš„ç§’æ•°å»æ£€æµ‹æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼ˆtimestampï¼‰æ£€æŸ¥è„šæœ¬æ˜¯å¦æ›´æ–°ã€‚
å¦‚æœè¿™ä¸ªé€‰é¡¹è¢«ç¦ç”¨ï¼ˆè®¾ç½®ä¸º0ï¼‰ï¼Œopcache.revalidate_freqä¼šè¢«å¿½ç•¥ï¼ŒPHPæ–‡ä»¶æ°¸è¿œä¸ä¼šè¢«æ£€æŸ¥ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä¿®æ”¹äº†ä½ çš„ä»£ç ï¼Œç„¶åä½ æŠŠå®ƒæ›´æ–°åˆ°æœåŠ¡å™¨ä¸Šï¼Œå†åœ¨æµè§ˆå™¨ä¸Šè¯·æ±‚æ›´æ–°çš„ä»£ç å¯¹åº”çš„åŠŸèƒ½ï¼Œä½ ä¼šçœ‹ä¸åˆ°æ›´æ–°çš„æ•ˆæœ
å¼ºçƒˆå»ºè®®ä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è®¾ç½®ä¸º0ï¼Œæ›´æ–°ä»£ç åï¼Œå†å¹³æ»‘é‡å¯PHPå’ŒwebæœåŠ¡å™¨ã€‚
<span class="token directive"><span class="token keyword">opcache.validate_timestamps=0</span></span>

<span class="token punctuation">;</span>å¼€å¯Opcache File Cache(å®éªŒæ€§), é€šè¿‡å¼€å¯è¿™ä¸ª, æˆ‘ä»¬å¯ä»¥è®©OpcacheæŠŠopcodeç¼“å­˜ç¼“å­˜åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­, å¯¹äºä¸€äº›è„šæœ¬, ä¼šæœ‰å¾ˆæ˜æ˜¾çš„æ€§èƒ½æå‡.
è¿™æ ·PHPå°±ä¼šåœ¨/tmpç›®å½•ä¸‹Cacheä¸€äº›Opcodeçš„äºŒè¿›åˆ¶å¯¼å‡ºæ–‡ä»¶, å¯ä»¥è·¨PHPç”Ÿå‘½å‘¨æœŸå­˜åœ¨.
opcache.file_cache=/tmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="thinkphp-å¼€å¯äºŒçº§åŸŸå" tabindex="-1"><a class="header-anchor" href="#thinkphp-å¼€å¯äºŒçº§åŸŸå" aria-hidden="true">#</a> ThinkPHP å¼€å¯äºŒçº§åŸŸå</h2><p>åœ¨<code>nginx</code>å¯¹åº”çš„è®¾ç½®çš„<code>phpçš„é¡¹ç›®çš„conf</code>æ–‡ä»¶åŠ ä¸Š</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">rewrite</span>  ^(.*)$  /index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">break</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼€å¯äºŒçº§åŸŸå</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /youdomain/</span> <span class="token punctuation">{</span>
  <span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span><span class="token punctuation">{</span>
       <span class="token directive"><span class="token keyword">rewrite</span>  ^/youdomain/(.*)$  /youdomain/index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæ•´å†…å®¹</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
  <span class="token comment"># ç›‘å¬ç«¯å£å·</span>
  <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
  <span class="token comment"># åŸŸå</span>
  <span class="token directive"><span class="token keyword">server_name</span> www.php7.tt</span><span class="token punctuation">;</span>
  <span class="token comment"># ç½‘ç«™ç›®å½•</span>
  <span class="token directive"><span class="token keyword">root</span> /home/web/php7/</span><span class="token punctuation">;</span>
  <span class="token directive"><span class="token keyword">location</span> /</span><span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">ssi</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssi_silent_errors</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">index</span> index.php index.html index.htm</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token directive"><span class="token keyword">location</span> ~ \.php$</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">fastcgi_pass</span>   127.0.0.1:9000</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">fastcgi_index</span>  index.php</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">include</span>        fastcgi_params</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment"># nginx å¼€å¯rewrite</span>
  <span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">rewrite</span>  ^(.*)$  /index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">break</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment"># nginxå¼€å¯äºŒçº§åŸŸå</span>
  <span class="token directive"><span class="token keyword">location</span> /youdomain/</span> <span class="token punctuation">{</span>
      <span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span><span class="token punctuation">{</span>
             <span class="token directive"><span class="token keyword">rewrite</span>  ^/youdomain/(.*)$  /youdomain/index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token directive"><span class="token keyword">access_log</span> /usr/local/nginx/logs/php7_access.log</span><span class="token punctuation">;</span>
  <span class="token directive"><span class="token keyword">error_log</span> /usr/local/nginx/logs/php7_error.log</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…åœ¨<code>ThinkPHP</code>çš„<code>public</code>ç›®å½•ä¸‹çš„<code>htaccess.conf</code>æ–‡ä»¶é‡Œè®¾ç½®</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment">#å¼€å¯å‹ç¼©</span>
<span class="token directive"><span class="token keyword">gzip</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_buffers</span> <span class="token number">32</span> <span class="token number">4K</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_comp_level</span> <span class="token number">6</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_min_length</span> <span class="token number">200</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_types</span> text/css  application/x-javascript</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_vary</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">rewrite</span>  ^(.*)$  /index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">break</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">location</span> /youdomain/</span> <span class="token punctuation">{</span>
  <span class="token directive"><span class="token keyword">if</span> (!-e <span class="token variable">$request_filename</span>)</span><span class="token punctuation">{</span>
       <span class="token directive"><span class="token keyword">rewrite</span>  ^/youdomain/(.*)$  /youdomain/index.php?s=<span class="token variable">$1</span>  last</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    <span class="token comment">#è®¾ç½®ç¼“å­˜</span>
    <span class="token directive"><span class="token keyword">location</span> ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$</span>
    <span class="token punctuation">{</span>
      <span class="token directive"><span class="token keyword">expires</span>      <span class="token number">30d</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> ~ .*\.(js|css)?$</span>
    <span class="token punctuation">{</span>
      <span class="token directive"><span class="token keyword">expires</span>      <span class="token number">1h</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è°ƒæ•´-php7-4-é…ç½®çš„ä¸€äº›å†…å®¹" tabindex="-1"><a class="header-anchor" href="#è°ƒæ•´-php7-4-é…ç½®çš„ä¸€äº›å†…å®¹" aria-hidden="true">#</a> è°ƒæ•´ PHP7.4 é…ç½®çš„ä¸€äº›å†…å®¹</h2><h3 id="pdo-mysql-1" tabindex="-1"><a class="header-anchor" href="#pdo-mysql-1" aria-hidden="true">#</a> pdo_mysql</h3><table><thead><tr><th>PDO Driver for MySQL</th><th>enabled</th></tr></thead><tbody><tr><td>Client API version</td><td>mysqlnd 7.4.2</td></tr></tbody></table><table><thead><tr><th>Directive</th><th>Local Value</th><th>Master Value</th></tr></thead><tbody><tr><td>pdo_mysql.default_socket</td><td>/tmp/mysql.sock</td><td>/tmp/mysql.sock</td></tr></tbody></table><p>å¯ä»¥çœ‹åˆ°å®ƒçš„<code>socket</code>æ–‡ä»¶æ˜¯åœ¨<code>/tmp/mysql.sock</code>ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ä»¥ä¸‹<code>php.ini</code>é‡Œçš„å­˜å‚¨ä½ç½®</p><p>ä¿®æ”¹<code>php.ini</code></p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Pdo_mysql</span><span class="token punctuation">]</span></span>
<span class="token comment">; Default socket name for local MySQL connects.  If empty, uses the built-in</span>
<span class="token comment">; MySQL defaults.</span>
<span class="token key attr-name">pdo_mysql.default_socket</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/local/mysql/tmp/mysql.sock</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé‡å¯<code>php-fpm7</code></p><h2 id="php7-4-å®‰è£…-swoole-æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#php7-4-å®‰è£…-swoole-æ‰©å±•" aria-hidden="true">#</a> PHP7.4 å®‰è£… swoole æ‰©å±•</h2><p>è¿™é‡Œ swoole çš„ç‰ˆæœ¬æˆ‘é€‰çš„æ˜¯<code>4.4.15</code>ï¼Œåæ­£åªè¦æ˜¯<code>x86</code>æ¶æ„çš„ LInux ç¯å¢ƒä¸‹å®‰è£…ï¼Œä¸€èˆ¬éƒ½æ²¡å•¥æ¯›ç—…äº†ã€‚</p><p>è¿˜æ˜¯è€æ ·å­ï¼Œä¸‹è½½æºç åŒ…ä¸Šä¼ åˆ°<code>/usr/local/src</code>ç›®å½•ä¸‹å¹¶è§£å‹</p><p>ç„¶åä½¿ç”¨<code>phpize</code>æ‰“åŒ…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 swoole-4.4.15<span class="token punctuation">]</span><span class="token comment"># /usr/local/php7/bin/phpize</span>
Configuring for:
PHP Api Version:         <span class="token number">20190902</span>
Zend Module Api No:      <span class="token number">20190902</span>
Zend Extension Api No:   <span class="token number">320190902</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 swoole-4.4.15<span class="token punctuation">]</span><span class="token comment"># ./configure --enable-openssl --enable-http2 --enable-sockets --enable-mysqlnd --with-php-config=/usr/local/php7/bin/php-config</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå°±æ˜¯ç¼–è¯‘å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£…å®Œäº†ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©<code>make test</code>ä¸€ä¸‹çœ‹çœ‹ã€‚</p><p>ç„¶åå°±æ˜¯å°†<code>swoole.so</code>æ‰©å±•åŠ å…¥åˆ°<code>php.ini</code>æ–‡ä»¶ä¸­</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token punctuation">[</span>root@10 swoole-4.4.15<span class="token punctuation">]</span><span class="token comment"># vim /usr/local/php7/etc/php.ini</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment"># æˆ‘ä»¬å¯ä¸iæ‰¾åˆ° zip.so åœ¨ä¸‹é¢æ·»åŠ ä¸€ä¸‹å³å¯</span>

<span class="token key attr-name">extension</span><span class="token punctuation">=</span><span class="token value attr-value">swoole.so</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ£€æµ‹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 swoole-4.4.15<span class="token punctuation">]</span><span class="token comment"># /usr/local/php7/bin/php --ri swoole</span>


swoole

Swoole <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
Author <span class="token operator">=</span><span class="token operator">&gt;</span> Swoole Team <span class="token operator">&lt;</span>team@swoole.com<span class="token operator">&gt;</span>
Version <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">4.4</span>.15
Built <span class="token operator">=</span><span class="token operator">&gt;</span> Aug <span class="token number">14</span> <span class="token number">2022</span> <span class="token number">18</span>:15:59
coroutine <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
epoll <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
eventfd <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
signalfd <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
cpu_affinity <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
spinlock <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
rwlock <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
sockets <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
openssl <span class="token operator">=</span><span class="token operator">&gt;</span> OpenSSL <span class="token number">1.0</span>.2k-fips  <span class="token number">26</span> Jan <span class="token number">2017</span>
http2 <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
pcre <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
zlib <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1.2</span>.7
mutex_timedlock <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
pthread_barrier <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
futex <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
mysqlnd <span class="token operator">=</span><span class="token operator">&gt;</span> enabled
async_redis <span class="token operator">=</span><span class="token operator">&gt;</span> enabled

Directive <span class="token operator">=</span><span class="token operator">&gt;</span> Local Value <span class="token operator">=</span><span class="token operator">&gt;</span> Master Value
swoole.enable_coroutine <span class="token operator">=</span><span class="token operator">&gt;</span> On <span class="token operator">=</span><span class="token operator">&gt;</span> On
swoole.enable_library <span class="token operator">=</span><span class="token operator">&gt;</span> On <span class="token operator">=</span><span class="token operator">&gt;</span> On
swoole.enable_preemptive_scheduler <span class="token operator">=</span><span class="token operator">&gt;</span> Off <span class="token operator">=</span><span class="token operator">&gt;</span> Off
swoole.display_errors <span class="token operator">=</span><span class="token operator">&gt;</span> On <span class="token operator">=</span><span class="token operator">&gt;</span> On
swoole.use_shortname <span class="token operator">=</span><span class="token operator">&gt;</span> On <span class="token operator">=</span><span class="token operator">&gt;</span> On
swoole.unixsock_buffer_size <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">8388608</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">8388608</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰è£…-composer" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-composer" aria-hidden="true">#</a> å®‰è£… composer</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 src<span class="token punctuation">]</span><span class="token comment"># curl -sS https://getcomposer.org/installer | /usr/local/php7/bin/php</span>
All settings correct <span class="token keyword">for</span> using Composer
Downloading<span class="token punctuation">..</span>.

Composer <span class="token punctuation">(</span>version <span class="token number">2.3</span>.10<span class="token punctuation">)</span> successfully installed to: /usr/local/src/composer.phar
Use it: php composer.phar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç§»åŠ¨åˆ°<code>/usr/local/bin</code>ä¸‹ï¼Œå¹¶ä¸º<code>php7</code>æ·»åŠ è½¯é“¾æ¥</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@10 src<span class="token punctuation">]</span><span class="token comment"># mv composer.phar /usr/local/bin/composer</span>
<span class="token punctuation">[</span>root@10 src<span class="token punctuation">]</span><span class="token comment"># ln -s /usr/local/php7/bin/php /usr/local/bin/php</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®é˜¿é‡Œäº‘é•œåƒ</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> config -g repo.packagist <span class="token function">composer</span> https://mirrors.aliyun.com/composer/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœæœ‰å®‰è£…ä¸€äº›<code>swoole</code>æ¡†æ¶ï¼Œå¯èƒ½ä¼šéœ€è¦å¼€æ”¾<code>9501</code>ç«¯å£æˆ–åˆ«çš„ç«¯å£</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">9501</span>/tcp --permanent
systemctl restart firewalld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/sword-demon/sword-demon.github.io/edit/main/docs/views/deploy/linux-install-php-swoole.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/8/14 13:07:44</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 1418667580@qq.com">wxvirus</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/views/deploy/linux-install-nginx.html" class="nav-link prev" aria-label="Linuxå®‰è£…Nginxå’Œé…ç½®"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Linuxå®‰è£…Nginxå’Œé…ç½®</div></a><a href="/views/deploy/quick-install-k8s.html" class="nav-link next" aria-label="ä½¿ç”¨rancherå®‰è£…k8sé›†ç¾¤"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ä½¿ç”¨rancherå®‰è£…k8sé›†ç¾¤<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">æ— è§£çš„æ¸¸æˆ</div><div class="copyright">Copyright Â© 2022 wxvirus</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.50152c4e.js" defer></script>
  </body>
</html>
