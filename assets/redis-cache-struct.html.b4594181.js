import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as n,e as a}from"./app.706a789c.js";const o={},c=a(`<h1 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> redis</h1><p><img src="https://virusoss.oss-cn-shanghai.aliyuncs.com/images/20220928222928.png" alt="redisepoll" loading="lazy"></p><blockquote><p><code>redis</code>\u662F\u5355\u7EBF\u7A0B\u7684\uFF0C\u4E00\u5806\u5BA2\u6237\u7AEF\u7684\u94FE\u63A5\u90FD\u662F\u5148\u5230\u5185\u6838\u7684\uFF0C<code>redis</code>\u548C\u5185\u6838\u4E4B\u95F4\u4F7F\u7528<code>epoll</code>\uFF0C\u4E5F\u5C31\u662F\u975E\u963B\u585E\u7684 IO \u591A\u8DEF\u590D\u7528\uFF0C<code>redis</code>\u5C31\u53EF\u4EE5\u7528\u4E00\u4E2A\u7EBF\u7A0B\u4F7F\u7528<code>epoll</code>\u904D\u5386\u5F88\u591A\u5BA2\u6237\u7AEF\u8FDE\u63A5\uFF0C\u54EA\u4E2A\u5BA2\u6237\u7AEF\u6709\u6570\u636E\u5C31\u6765\u5904\u7406\u8C01\uFF0C\u5DE6\u8FB9\u662F IO \u64CD\u4F5C\uFF0C\u53F3\u8FB9\u662F\u5185\u5B58\u64CD\u4F5C\uFF0C\u5185\u5B58\u64CD\u4F5C\u7684\u901F\u5EA6\u662F\u8FDC\u5927\u4E8E IO \u7684\u64CD\u4F5C\u7684\uFF0C\u6240\u4EE5<code>redis</code>\u7EBF\u7A0B\u5BF9\u5E94\u5F88\u591A\u8FDE\u63A5\u662F\u6CA1\u6709\u95EE\u9898\u7684\u3002\u8FD9\u91CC\u7684\u5904\u7406\u7684\u800C\u4E14\u662F<code>redis</code>\u7684<code>worker</code>\u7EBF\u7A0B\uFF0C<code>redis</code>\u8FD8\u6709\u522B\u7684\u7EBF\u7A0B\u53BB\u5904\u7406\u522B\u7684\u4E8B\u60C5\uFF0C\u6BD4\u5982\u6301\u4E45\u5316\u3001\u5F02\u6B65\u5220\u9664\u7B49\u3002</p></blockquote><p><strong>\u57FA\u672C\u6570\u636E\u7ED3\u6784</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">redisObject</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> type<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> encoding<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> lru<span class="token operator">:</span>LRU_BITS<span class="token punctuation">;</span>

    <span class="token keyword">int</span> refcount<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span> robj<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>type</code>\uFF1A\u5BF9\u5916\u7684\u6570\u636E\u7C7B\u578B\uFF0C<code>string\u3001hash\u3001list\u3001set\u3001zset</code>\uFF0C\u901A\u8FC7<code>type</code>\u547D\u4EE4\u770B\u5230\u7684\u7C7B\u578B</li><li><code>encoding</code>\u5185\u90E8\u5B9E\u9645\u4FDD\u5B58\u7C7B\u578B\u6570\u636E\u7C7B\u578B\uFF0C\u5F88\u91CD\u8981\uFF0C\u4F8B\u5982<code>list</code>\u5176\u5B9E\u5206\u4E3A<code>ziplist quicklist</code></li><li><code>lru</code>\u7F13\u5B58\u6DD8\u6C70\u673A\u5236\u65F6\u4F7F\u7528</li><li><code>refcount</code>\uFF1A\u5F15\u7528\u8BA1\u6570\uFF0C\u4E3B\u8981\u7528\u4E8E\u5185\u5B58\u56DE\u6536</li><li><code>ptr</code>\uFF1A\u6307\u5411\u771F\u5B9E\u7684\u6570\u636E\u5B58\u50A8</li></ul>`,6),d=[c];function i(t,l){return s(),n("div",null,d)}var u=e(o,[["render",i],["__file","redis-cache-struct.html.vue"]]);export{u as default};
